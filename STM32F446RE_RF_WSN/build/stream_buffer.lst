ARM GAS  /tmp/ccmX5Z0F.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"stream_buffer.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.prvBytesInBuffer,"ax",%progbits
  18              		.align	1
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu fpv4-sp-d16
  24              	prvBytesInBuffer:
  25              	.LFB25:
  26              		.file 1 "Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c"
   1:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /*
   2:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c ****  * FreeRTOS Kernel V10.3.1
   3:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c ****  * Copyright (C) 2020 Amazon.com, Inc. or its affiliates.  All Rights Reserved.
   4:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c ****  *
   5:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c ****  * Permission is hereby granted, free of charge, to any person obtaining a copy of
   6:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c ****  * this software and associated documentation files (the "Software"), to deal in
   7:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c ****  * the Software without restriction, including without limitation the rights to
   8:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c ****  * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
   9:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c ****  * the Software, and to permit persons to whom the Software is furnished to do so,
  10:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c ****  * subject to the following conditions:
  11:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c ****  *
  12:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c ****  * The above copyright notice and this permission notice shall be included in all
  13:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c ****  * copies or substantial portions of the Software.
  14:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c ****  *
  15:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c ****  * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  16:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c ****  * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
  17:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c ****  * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
  18:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c ****  * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
  19:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c ****  * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
  20:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c ****  * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
  21:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c ****  *
  22:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c ****  * http://www.FreeRTOS.org
  23:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c ****  * http://aws.amazon.com/freertos
  24:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c ****  *
  25:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c ****  * 1 tab == 4 spaces!
  26:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c ****  */
  27:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
  28:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /* Standard includes. */
  29:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** #include <stdint.h>
  30:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** #include <string.h>
  31:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
  32:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /* Defining MPU_WRAPPERS_INCLUDED_FROM_API_FILE prevents task.h from redefining
ARM GAS  /tmp/ccmX5Z0F.s 			page 2


  33:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** all the API functions to use the MPU wrappers.  That should only be done when
  34:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** task.h is included from an application file. */
  35:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** #define MPU_WRAPPERS_INCLUDED_FROM_API_FILE
  36:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
  37:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /* FreeRTOS includes. */
  38:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** #include "FreeRTOS.h"
  39:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** #include "task.h"
  40:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** #include "stream_buffer.h"
  41:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
  42:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** #if( configUSE_TASK_NOTIFICATIONS != 1 )
  43:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	#error configUSE_TASK_NOTIFICATIONS must be set to 1 to build stream_buffer.c
  44:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** #endif
  45:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
  46:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /* Lint e961, e9021 and e750 are suppressed as a MISRA exception justified
  47:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** because the MPU ports require MPU_WRAPPERS_INCLUDED_FROM_API_FILE to be defined
  48:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** for the header files above, but not in this file, in order to generate the
  49:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** correct privileged Vs unprivileged linkage and placement. */
  50:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** #undef MPU_WRAPPERS_INCLUDED_FROM_API_FILE /*lint !e961 !e750 !e9021. */
  51:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
  52:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /* If the user has not provided application specific Rx notification macros,
  53:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** or #defined the notification macros away, them provide default implementations
  54:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** that uses task notifications. */
  55:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /*lint -save -e9026 Function like macros allowed and needed here so they can be overidden. */
  56:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** #ifndef sbRECEIVE_COMPLETED
  57:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	#define sbRECEIVE_COMPLETED( pxStreamBuffer )										\
  58:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		vTaskSuspendAll();																\
  59:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{																				\
  60:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			if( ( pxStreamBuffer )->xTaskWaitingToSend != NULL )						\
  61:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			{																			\
  62:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 				( void ) xTaskNotify( ( pxStreamBuffer )->xTaskWaitingToSend,			\
  63:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 									  ( uint32_t ) 0,									\
  64:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 									  eNoAction );										\
  65:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 				( pxStreamBuffer )->xTaskWaitingToSend = NULL;							\
  66:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			}																			\
  67:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}																				\
  68:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		( void ) xTaskResumeAll();
  69:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** #endif /* sbRECEIVE_COMPLETED */
  70:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
  71:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** #ifndef sbRECEIVE_COMPLETED_FROM_ISR
  72:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	#define sbRECEIVE_COMPLETED_FROM_ISR( pxStreamBuffer,								\
  73:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 										  pxHigherPriorityTaskWoken )					\
  74:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{																					\
  75:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	UBaseType_t uxSavedInterruptStatus;													\
  76:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 																						\
  77:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		uxSavedInterruptStatus = ( UBaseType_t ) portSET_INTERRUPT_MASK_FROM_ISR();		\
  78:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{																				\
  79:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			if( ( pxStreamBuffer )->xTaskWaitingToSend != NULL )						\
  80:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			{																			\
  81:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 				( void ) xTaskNotifyFromISR( ( pxStreamBuffer )->xTaskWaitingToSend,	\
  82:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 											 ( uint32_t ) 0,							\
  83:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 											 eNoAction,									\
  84:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 											 pxHigherPriorityTaskWoken );				\
  85:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 				( pxStreamBuffer )->xTaskWaitingToSend = NULL;							\
  86:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			}																			\
  87:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}																				\
  88:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		portCLEAR_INTERRUPT_MASK_FROM_ISR( uxSavedInterruptStatus );					\
  89:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
ARM GAS  /tmp/ccmX5Z0F.s 			page 3


  90:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** #endif /* sbRECEIVE_COMPLETED_FROM_ISR */
  91:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
  92:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /* If the user has not provided an application specific Tx notification macro,
  93:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** or #defined the notification macro away, them provide a default implementation
  94:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** that uses task notifications. */
  95:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** #ifndef sbSEND_COMPLETED
  96:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	#define sbSEND_COMPLETED( pxStreamBuffer )											\
  97:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		vTaskSuspendAll();																\
  98:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{																				\
  99:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			if( ( pxStreamBuffer )->xTaskWaitingToReceive != NULL )						\
 100:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			{																			\
 101:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 				( void ) xTaskNotify( ( pxStreamBuffer )->xTaskWaitingToReceive,		\
 102:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 									  ( uint32_t ) 0,									\
 103:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 									  eNoAction );										\
 104:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 				( pxStreamBuffer )->xTaskWaitingToReceive = NULL;						\
 105:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			}																			\
 106:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}																				\
 107:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		( void ) xTaskResumeAll();
 108:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** #endif /* sbSEND_COMPLETED */
 109:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 110:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** #ifndef sbSEND_COMPLETE_FROM_ISR
 111:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	#define sbSEND_COMPLETE_FROM_ISR( pxStreamBuffer, pxHigherPriorityTaskWoken )		\
 112:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{																					\
 113:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	UBaseType_t uxSavedInterruptStatus;													\
 114:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 																						\
 115:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		uxSavedInterruptStatus = ( UBaseType_t ) portSET_INTERRUPT_MASK_FROM_ISR();		\
 116:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{																				\
 117:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			if( ( pxStreamBuffer )->xTaskWaitingToReceive != NULL )						\
 118:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			{																			\
 119:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 				( void ) xTaskNotifyFromISR( ( pxStreamBuffer )->xTaskWaitingToReceive,	\
 120:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 											 ( uint32_t ) 0,							\
 121:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 											 eNoAction,									\
 122:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 											 pxHigherPriorityTaskWoken );				\
 123:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 				( pxStreamBuffer )->xTaskWaitingToReceive = NULL;						\
 124:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			}																			\
 125:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}																				\
 126:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		portCLEAR_INTERRUPT_MASK_FROM_ISR( uxSavedInterruptStatus );					\
 127:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 128:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** #endif /* sbSEND_COMPLETE_FROM_ISR */
 129:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /*lint -restore (9026) */
 130:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 131:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /* The number of bytes used to hold the length of a message in the buffer. */
 132:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** #define sbBYTES_TO_STORE_MESSAGE_LENGTH ( sizeof( configMESSAGE_BUFFER_LENGTH_TYPE ) )
 133:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 134:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /* Bits stored in the ucFlags field of the stream buffer. */
 135:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** #define sbFLAGS_IS_MESSAGE_BUFFER		( ( uint8_t ) 1 ) /* Set if the stream buffer was created as a m
 136:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** #define sbFLAGS_IS_STATICALLY_ALLOCATED ( ( uint8_t ) 2 ) /* Set if the stream buffer was created u
 137:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 138:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /*-----------------------------------------------------------*/
 139:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 140:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /* Structure that hold state information on the buffer. */
 141:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** typedef struct StreamBufferDef_t /*lint !e9058 Style convention uses tag. */
 142:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** {
 143:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	volatile size_t xTail;				/* Index to the next item to read within the buffer. */
 144:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	volatile size_t xHead;				/* Index to the next item to write within the buffer. */
 145:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	size_t xLength;						/* The length of the buffer pointed to by pucBuffer. */
 146:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	size_t xTriggerLevelBytes;			/* The number of bytes that must be in the stream buffer before a tas
ARM GAS  /tmp/ccmX5Z0F.s 			page 4


 147:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	volatile TaskHandle_t xTaskWaitingToReceive; /* Holds the handle of a task waiting for data, or NU
 148:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	volatile TaskHandle_t xTaskWaitingToSend;	/* Holds the handle of a task waiting to send data to a 
 149:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	uint8_t *pucBuffer;					/* Points to the buffer itself - that is - the RAM that stores the data pa
 150:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	uint8_t ucFlags;
 151:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 152:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	#if ( configUSE_TRACE_FACILITY == 1 )
 153:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		UBaseType_t uxStreamBufferNumber;		/* Used for tracing purposes. */
 154:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	#endif
 155:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** } StreamBuffer_t;
 156:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 157:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /*
 158:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c ****  * The number of bytes available to be read from the buffer.
 159:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c ****  */
 160:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** static size_t prvBytesInBuffer( const StreamBuffer_t * const pxStreamBuffer ) PRIVILEGED_FUNCTION;
 161:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 162:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /*
 163:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c ****  * Add xCount bytes from pucData into the pxStreamBuffer message buffer.
 164:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c ****  * Returns the number of bytes written, which will either equal xCount in the
 165:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c ****  * success case, or 0 if there was not enough space in the buffer (in which case
 166:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c ****  * no data is written into the buffer).
 167:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c ****  */
 168:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** static size_t prvWriteBytesToBuffer( StreamBuffer_t * const pxStreamBuffer, const uint8_t *pucData,
 169:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 170:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /*
 171:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c ****  * If the stream buffer is being used as a message buffer, then reads an entire
 172:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c ****  * message out of the buffer.  If the stream buffer is being used as a stream
 173:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c ****  * buffer then read as many bytes as possible from the buffer.
 174:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c ****  * prvReadBytesFromBuffer() is called to actually extract the bytes from the
 175:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c ****  * buffer's data storage area.
 176:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c ****  */
 177:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** static size_t prvReadMessageFromBuffer( StreamBuffer_t *pxStreamBuffer,
 178:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 										void *pvRxData,
 179:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 										size_t xBufferLengthBytes,
 180:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 										size_t xBytesAvailable,
 181:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 										size_t xBytesToStoreMessageLength ) PRIVILEGED_FUNCTION;
 182:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 183:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /*
 184:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c ****  * If the stream buffer is being used as a message buffer, then writes an entire
 185:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c ****  * message to the buffer.  If the stream buffer is being used as a stream
 186:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c ****  * buffer then write as many bytes as possible to the buffer.
 187:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c ****  * prvWriteBytestoBuffer() is called to actually send the bytes to the buffer's
 188:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c ****  * data storage area.
 189:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c ****  */
 190:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** static size_t prvWriteMessageToBuffer(  StreamBuffer_t * const pxStreamBuffer,
 191:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 										const void * pvTxData,
 192:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 										size_t xDataLengthBytes,
 193:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 										size_t xSpace,
 194:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 										size_t xRequiredSpace ) PRIVILEGED_FUNCTION;
 195:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 196:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /*
 197:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c ****  * Read xMaxCount bytes from the pxStreamBuffer message buffer and write them
 198:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c ****  * to pucData.
 199:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c ****  */
 200:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** static size_t prvReadBytesFromBuffer( StreamBuffer_t *pxStreamBuffer,
 201:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 									  uint8_t *pucData,
 202:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 									  size_t xMaxCount,
 203:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 									  size_t xBytesAvailable ) PRIVILEGED_FUNCTION;
ARM GAS  /tmp/ccmX5Z0F.s 			page 5


 204:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 205:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /*
 206:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c ****  * Called by both pxStreamBufferCreate() and pxStreamBufferCreateStatic() to
 207:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c ****  * initialise the members of the newly created stream buffer structure.
 208:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c ****  */
 209:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** static void prvInitialiseNewStreamBuffer( StreamBuffer_t * const pxStreamBuffer,
 210:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 										  uint8_t * const pucBuffer,
 211:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 										  size_t xBufferSizeBytes,
 212:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 										  size_t xTriggerLevelBytes,
 213:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 										  uint8_t ucFlags ) PRIVILEGED_FUNCTION;
 214:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 215:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /*-----------------------------------------------------------*/
 216:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 217:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** #if( configSUPPORT_DYNAMIC_ALLOCATION == 1 )
 218:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 219:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	StreamBufferHandle_t xStreamBufferGenericCreate( size_t xBufferSizeBytes, size_t xTriggerLevelByte
 220:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 221:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	uint8_t *pucAllocatedMemory;
 222:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	uint8_t ucFlags;
 223:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 224:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		/* In case the stream buffer is going to be used as a message buffer
 225:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		(that is, it will hold discrete messages with a little meta data that
 226:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		says how big the next message is) check the buffer will be large enough
 227:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		to hold at least one message. */
 228:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		if( xIsMessageBuffer == pdTRUE )
 229:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
 230:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			/* Is a message buffer but not statically allocated. */
 231:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			ucFlags = sbFLAGS_IS_MESSAGE_BUFFER;
 232:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			configASSERT( xBufferSizeBytes > sbBYTES_TO_STORE_MESSAGE_LENGTH );
 233:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
 234:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		else
 235:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
 236:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			/* Not a message buffer and not statically allocated. */
 237:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			ucFlags = 0;
 238:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			configASSERT( xBufferSizeBytes > 0 );
 239:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
 240:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		configASSERT( xTriggerLevelBytes <= xBufferSizeBytes );
 241:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 242:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		/* A trigger level of 0 would cause a waiting task to unblock even when
 243:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		the buffer was empty. */
 244:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		if( xTriggerLevelBytes == ( size_t ) 0 )
 245:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
 246:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			xTriggerLevelBytes = ( size_t ) 1;
 247:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
 248:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 249:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		/* A stream buffer requires a StreamBuffer_t structure and a buffer.
 250:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		Both are allocated in a single call to pvPortMalloc().  The
 251:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		StreamBuffer_t structure is placed at the start of the allocated memory
 252:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		and the buffer follows immediately after.  The requested size is
 253:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		incremented so the free space is returned as the user would expect -
 254:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		this is a quirk of the implementation that means otherwise the free
 255:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		space would be reported as one byte smaller than would be logically
 256:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		expected. */
 257:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		xBufferSizeBytes++;
 258:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		pucAllocatedMemory = ( uint8_t * ) pvPortMalloc( xBufferSizeBytes + sizeof( StreamBuffer_t ) ); /
 259:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 260:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		if( pucAllocatedMemory != NULL )
ARM GAS  /tmp/ccmX5Z0F.s 			page 6


 261:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
 262:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			prvInitialiseNewStreamBuffer( ( StreamBuffer_t * ) pucAllocatedMemory, /* Structure at the start
 263:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 										   pucAllocatedMemory + sizeof( StreamBuffer_t ),  /* Storage area follows. */ /*lint !e9
 264:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 										   xBufferSizeBytes,
 265:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 										   xTriggerLevelBytes,
 266:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 										   ucFlags );
 267:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 268:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			traceSTREAM_BUFFER_CREATE( ( ( StreamBuffer_t * ) pucAllocatedMemory ), xIsMessageBuffer );
 269:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
 270:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		else
 271:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
 272:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			traceSTREAM_BUFFER_CREATE_FAILED( xIsMessageBuffer );
 273:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
 274:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 275:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		return ( StreamBufferHandle_t ) pucAllocatedMemory; /*lint !e9087 !e826 Safe cast as allocated me
 276:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 277:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 278:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** #endif /* configSUPPORT_DYNAMIC_ALLOCATION */
 279:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /*-----------------------------------------------------------*/
 280:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 281:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** #if( configSUPPORT_STATIC_ALLOCATION == 1 )
 282:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 283:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	StreamBufferHandle_t xStreamBufferGenericCreateStatic( size_t xBufferSizeBytes,
 284:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 														   size_t xTriggerLevelBytes,
 285:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 														   BaseType_t xIsMessageBuffer,
 286:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 														   uint8_t * const pucStreamBufferStorageArea,
 287:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 														   StaticStreamBuffer_t * const pxStaticStreamBuffer )
 288:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 289:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	StreamBuffer_t * const pxStreamBuffer = ( StreamBuffer_t * ) pxStaticStreamBuffer; /*lint !e740 !e
 290:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	StreamBufferHandle_t xReturn;
 291:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	uint8_t ucFlags;
 292:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 293:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		configASSERT( pucStreamBufferStorageArea );
 294:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		configASSERT( pxStaticStreamBuffer );
 295:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		configASSERT( xTriggerLevelBytes <= xBufferSizeBytes );
 296:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 297:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		/* A trigger level of 0 would cause a waiting task to unblock even when
 298:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		the buffer was empty. */
 299:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		if( xTriggerLevelBytes == ( size_t ) 0 )
 300:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
 301:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			xTriggerLevelBytes = ( size_t ) 1;
 302:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
 303:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 304:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		if( xIsMessageBuffer != pdFALSE )
 305:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
 306:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			/* Statically allocated message buffer. */
 307:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			ucFlags = sbFLAGS_IS_MESSAGE_BUFFER | sbFLAGS_IS_STATICALLY_ALLOCATED;
 308:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
 309:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		else
 310:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
 311:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			/* Statically allocated stream buffer. */
 312:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			ucFlags = sbFLAGS_IS_STATICALLY_ALLOCATED;
 313:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
 314:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 315:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		/* In case the stream buffer is going to be used as a message buffer
 316:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		(that is, it will hold discrete messages with a little meta data that
 317:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		says how big the next message is) check the buffer will be large enough
ARM GAS  /tmp/ccmX5Z0F.s 			page 7


 318:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		to hold at least one message. */
 319:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		configASSERT( xBufferSizeBytes > sbBYTES_TO_STORE_MESSAGE_LENGTH );
 320:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 321:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		#if( configASSERT_DEFINED == 1 )
 322:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
 323:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			/* Sanity check that the size of the structure used to declare a
 324:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			variable of type StaticStreamBuffer_t equals the size of the real
 325:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			message buffer structure. */
 326:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			volatile size_t xSize = sizeof( StaticStreamBuffer_t );
 327:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			configASSERT( xSize == sizeof( StreamBuffer_t ) );
 328:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		} /*lint !e529 xSize is referenced is configASSERT() is defined. */
 329:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		#endif /* configASSERT_DEFINED */
 330:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 331:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		if( ( pucStreamBufferStorageArea != NULL ) && ( pxStaticStreamBuffer != NULL ) )
 332:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
 333:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			prvInitialiseNewStreamBuffer( pxStreamBuffer,
 334:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 										  pucStreamBufferStorageArea,
 335:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 										  xBufferSizeBytes,
 336:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 										  xTriggerLevelBytes,
 337:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 										  ucFlags );
 338:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 339:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			/* Remember this was statically allocated in case it is ever deleted
 340:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			again. */
 341:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			pxStreamBuffer->ucFlags |= sbFLAGS_IS_STATICALLY_ALLOCATED;
 342:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 343:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			traceSTREAM_BUFFER_CREATE( pxStreamBuffer, xIsMessageBuffer );
 344:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 345:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			xReturn = ( StreamBufferHandle_t ) pxStaticStreamBuffer; /*lint !e9087 Data hiding requires cast
 346:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
 347:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		else
 348:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
 349:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			xReturn = NULL;
 350:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			traceSTREAM_BUFFER_CREATE_STATIC_FAILED( xReturn, xIsMessageBuffer );
 351:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
 352:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 353:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		return xReturn;
 354:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 355:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 356:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** #endif /* ( configSUPPORT_STATIC_ALLOCATION == 1 ) */
 357:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /*-----------------------------------------------------------*/
 358:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 359:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** void vStreamBufferDelete( StreamBufferHandle_t xStreamBuffer )
 360:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** {
 361:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** StreamBuffer_t * pxStreamBuffer = xStreamBuffer;
 362:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 363:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	configASSERT( pxStreamBuffer );
 364:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 365:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	traceSTREAM_BUFFER_DELETE( xStreamBuffer );
 366:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 367:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	if( ( pxStreamBuffer->ucFlags & sbFLAGS_IS_STATICALLY_ALLOCATED ) == ( uint8_t ) pdFALSE )
 368:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 369:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		#if( configSUPPORT_DYNAMIC_ALLOCATION == 1 )
 370:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
 371:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			/* Both the structure and the buffer were allocated using a single call
 372:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			to pvPortMalloc(), hence only one call to vPortFree() is required. */
 373:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			vPortFree( ( void * ) pxStreamBuffer ); /*lint !e9087 Standard free() semantics require void *, 
 374:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
ARM GAS  /tmp/ccmX5Z0F.s 			page 8


 375:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		#else
 376:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
 377:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			/* Should not be possible to get here, ucFlags must be corrupt.
 378:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			Force an assert. */
 379:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			configASSERT( xStreamBuffer == ( StreamBufferHandle_t ) ~0 );
 380:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
 381:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		#endif
 382:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 383:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	else
 384:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 385:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		/* The structure and buffer were not allocated dynamically and cannot be
 386:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		freed - just scrub the structure so future use will assert. */
 387:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		( void ) memset( pxStreamBuffer, 0x00, sizeof( StreamBuffer_t ) );
 388:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 389:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** }
 390:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /*-----------------------------------------------------------*/
 391:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 392:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** BaseType_t xStreamBufferReset( StreamBufferHandle_t xStreamBuffer )
 393:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** {
 394:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** StreamBuffer_t * const pxStreamBuffer = xStreamBuffer;
 395:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** BaseType_t xReturn = pdFAIL;
 396:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 397:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** #if( configUSE_TRACE_FACILITY == 1 )
 398:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	UBaseType_t uxStreamBufferNumber;
 399:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** #endif
 400:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 401:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	configASSERT( pxStreamBuffer );
 402:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 403:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	#if( configUSE_TRACE_FACILITY == 1 )
 404:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 405:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		/* Store the stream buffer number so it can be restored after the
 406:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		reset. */
 407:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		uxStreamBufferNumber = pxStreamBuffer->uxStreamBufferNumber;
 408:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 409:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	#endif
 410:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 411:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	/* Can only reset a message buffer if there are no tasks blocked on it. */
 412:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	taskENTER_CRITICAL();
 413:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 414:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		if( pxStreamBuffer->xTaskWaitingToReceive == NULL )
 415:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
 416:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			if( pxStreamBuffer->xTaskWaitingToSend == NULL )
 417:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			{
 418:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 				prvInitialiseNewStreamBuffer( pxStreamBuffer,
 419:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 											  pxStreamBuffer->pucBuffer,
 420:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 											  pxStreamBuffer->xLength,
 421:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 											  pxStreamBuffer->xTriggerLevelBytes,
 422:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 											  pxStreamBuffer->ucFlags );
 423:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 				xReturn = pdPASS;
 424:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 425:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 				#if( configUSE_TRACE_FACILITY == 1 )
 426:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 				{
 427:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 					pxStreamBuffer->uxStreamBufferNumber = uxStreamBufferNumber;
 428:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 				}
 429:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 				#endif
 430:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 431:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 				traceSTREAM_BUFFER_RESET( xStreamBuffer );
ARM GAS  /tmp/ccmX5Z0F.s 			page 9


 432:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			}
 433:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
 434:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 435:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	taskEXIT_CRITICAL();
 436:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 437:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	return xReturn;
 438:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** }
 439:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /*-----------------------------------------------------------*/
 440:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 441:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** BaseType_t xStreamBufferSetTriggerLevel( StreamBufferHandle_t xStreamBuffer, size_t xTriggerLevel )
 442:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** {
 443:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** StreamBuffer_t * const pxStreamBuffer = xStreamBuffer;
 444:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** BaseType_t xReturn;
 445:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 446:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	configASSERT( pxStreamBuffer );
 447:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 448:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	/* It is not valid for the trigger level to be 0. */
 449:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	if( xTriggerLevel == ( size_t ) 0 )
 450:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 451:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		xTriggerLevel = ( size_t ) 1;
 452:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 453:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 454:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	/* The trigger level is the number of bytes that must be in the stream
 455:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	buffer before a task that is waiting for data is unblocked. */
 456:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	if( xTriggerLevel <= pxStreamBuffer->xLength )
 457:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 458:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		pxStreamBuffer->xTriggerLevelBytes = xTriggerLevel;
 459:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		xReturn = pdPASS;
 460:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 461:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	else
 462:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 463:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		xReturn = pdFALSE;
 464:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 465:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 466:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	return xReturn;
 467:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** }
 468:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /*-----------------------------------------------------------*/
 469:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 470:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** size_t xStreamBufferSpacesAvailable( StreamBufferHandle_t xStreamBuffer )
 471:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** {
 472:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** const StreamBuffer_t * const pxStreamBuffer = xStreamBuffer;
 473:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** size_t xSpace;
 474:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 475:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	configASSERT( pxStreamBuffer );
 476:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 477:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	xSpace = pxStreamBuffer->xLength + pxStreamBuffer->xTail;
 478:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	xSpace -= pxStreamBuffer->xHead;
 479:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	xSpace -= ( size_t ) 1;
 480:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 481:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	if( xSpace >= pxStreamBuffer->xLength )
 482:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 483:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		xSpace -= pxStreamBuffer->xLength;
 484:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 485:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	else
 486:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 487:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		mtCOVERAGE_TEST_MARKER();
 488:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
ARM GAS  /tmp/ccmX5Z0F.s 			page 10


 489:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 490:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	return xSpace;
 491:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** }
 492:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /*-----------------------------------------------------------*/
 493:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 494:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** size_t xStreamBufferBytesAvailable( StreamBufferHandle_t xStreamBuffer )
 495:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** {
 496:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** const StreamBuffer_t * const pxStreamBuffer = xStreamBuffer;
 497:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** size_t xReturn;
 498:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 499:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	configASSERT( pxStreamBuffer );
 500:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 501:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	xReturn = prvBytesInBuffer( pxStreamBuffer );
 502:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	return xReturn;
 503:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** }
 504:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /*-----------------------------------------------------------*/
 505:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 506:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** size_t xStreamBufferSend( StreamBufferHandle_t xStreamBuffer,
 507:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 						  const void *pvTxData,
 508:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 						  size_t xDataLengthBytes,
 509:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 						  TickType_t xTicksToWait )
 510:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** {
 511:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** StreamBuffer_t * const pxStreamBuffer = xStreamBuffer;
 512:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** size_t xReturn, xSpace = 0;
 513:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** size_t xRequiredSpace = xDataLengthBytes;
 514:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** TimeOut_t xTimeOut;
 515:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 516:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	configASSERT( pvTxData );
 517:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	configASSERT( pxStreamBuffer );
 518:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 519:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	/* This send function is used to write to both message buffers and stream
 520:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	buffers.  If this is a message buffer then the space needed must be
 521:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	increased by the amount of bytes needed to store the length of the
 522:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	message. */
 523:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	if( ( pxStreamBuffer->ucFlags & sbFLAGS_IS_MESSAGE_BUFFER ) != ( uint8_t ) 0 )
 524:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 525:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		xRequiredSpace += sbBYTES_TO_STORE_MESSAGE_LENGTH;
 526:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 527:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		/* Overflow? */
 528:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		configASSERT( xRequiredSpace > xDataLengthBytes );
 529:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 530:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	else
 531:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 532:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		mtCOVERAGE_TEST_MARKER();
 533:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 534:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 535:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	if( xTicksToWait != ( TickType_t ) 0 )
 536:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 537:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		vTaskSetTimeOutState( &xTimeOut );
 538:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 539:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		do
 540:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
 541:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			/* Wait until the required number of bytes are free in the message
 542:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			buffer. */
 543:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			taskENTER_CRITICAL();
 544:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			{
 545:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 				xSpace = xStreamBufferSpacesAvailable( pxStreamBuffer );
ARM GAS  /tmp/ccmX5Z0F.s 			page 11


 546:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 547:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 				if( xSpace < xRequiredSpace )
 548:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 				{
 549:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 					/* Clear notification state as going to wait for space. */
 550:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 					( void ) xTaskNotifyStateClear( NULL );
 551:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 552:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 					/* Should only be one writer. */
 553:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 					configASSERT( pxStreamBuffer->xTaskWaitingToSend == NULL );
 554:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 					pxStreamBuffer->xTaskWaitingToSend = xTaskGetCurrentTaskHandle();
 555:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 				}
 556:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 				else
 557:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 				{
 558:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 					taskEXIT_CRITICAL();
 559:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 					break;
 560:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 				}
 561:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			}
 562:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			taskEXIT_CRITICAL();
 563:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 564:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			traceBLOCKING_ON_STREAM_BUFFER_SEND( xStreamBuffer );
 565:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			( void ) xTaskNotifyWait( ( uint32_t ) 0, ( uint32_t ) 0, NULL, xTicksToWait );
 566:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			pxStreamBuffer->xTaskWaitingToSend = NULL;
 567:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 568:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		} while( xTaskCheckForTimeOut( &xTimeOut, &xTicksToWait ) == pdFALSE );
 569:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 570:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	else
 571:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 572:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		mtCOVERAGE_TEST_MARKER();
 573:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 574:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 575:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	if( xSpace == ( size_t ) 0 )
 576:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 577:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		xSpace = xStreamBufferSpacesAvailable( pxStreamBuffer );
 578:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 579:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	else
 580:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 581:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		mtCOVERAGE_TEST_MARKER();
 582:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 583:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 584:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	xReturn = prvWriteMessageToBuffer( pxStreamBuffer, pvTxData, xDataLengthBytes, xSpace, xRequiredSp
 585:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 586:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	if( xReturn > ( size_t ) 0 )
 587:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 588:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		traceSTREAM_BUFFER_SEND( xStreamBuffer, xReturn );
 589:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 590:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		/* Was a task waiting for the data? */
 591:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		if( prvBytesInBuffer( pxStreamBuffer ) >= pxStreamBuffer->xTriggerLevelBytes )
 592:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
 593:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			sbSEND_COMPLETED( pxStreamBuffer );
 594:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
 595:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		else
 596:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
 597:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			mtCOVERAGE_TEST_MARKER();
 598:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
 599:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 600:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	else
 601:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 602:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		mtCOVERAGE_TEST_MARKER();
ARM GAS  /tmp/ccmX5Z0F.s 			page 12


 603:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		traceSTREAM_BUFFER_SEND_FAILED( xStreamBuffer );
 604:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 605:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 606:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	return xReturn;
 607:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** }
 608:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /*-----------------------------------------------------------*/
 609:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 610:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** size_t xStreamBufferSendFromISR( StreamBufferHandle_t xStreamBuffer,
 611:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 								 const void *pvTxData,
 612:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 								 size_t xDataLengthBytes,
 613:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 								 BaseType_t * const pxHigherPriorityTaskWoken )
 614:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** {
 615:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** StreamBuffer_t * const pxStreamBuffer = xStreamBuffer;
 616:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** size_t xReturn, xSpace;
 617:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** size_t xRequiredSpace = xDataLengthBytes;
 618:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 619:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	configASSERT( pvTxData );
 620:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	configASSERT( pxStreamBuffer );
 621:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 622:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	/* This send function is used to write to both message buffers and stream
 623:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	buffers.  If this is a message buffer then the space needed must be
 624:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	increased by the amount of bytes needed to store the length of the
 625:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	message. */
 626:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	if( ( pxStreamBuffer->ucFlags & sbFLAGS_IS_MESSAGE_BUFFER ) != ( uint8_t ) 0 )
 627:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 628:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		xRequiredSpace += sbBYTES_TO_STORE_MESSAGE_LENGTH;
 629:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 630:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	else
 631:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 632:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		mtCOVERAGE_TEST_MARKER();
 633:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 634:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 635:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	xSpace = xStreamBufferSpacesAvailable( pxStreamBuffer );
 636:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	xReturn = prvWriteMessageToBuffer( pxStreamBuffer, pvTxData, xDataLengthBytes, xSpace, xRequiredSp
 637:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 638:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	if( xReturn > ( size_t ) 0 )
 639:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 640:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		/* Was a task waiting for the data? */
 641:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		if( prvBytesInBuffer( pxStreamBuffer ) >= pxStreamBuffer->xTriggerLevelBytes )
 642:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
 643:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			sbSEND_COMPLETE_FROM_ISR( pxStreamBuffer, pxHigherPriorityTaskWoken );
 644:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
 645:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		else
 646:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
 647:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			mtCOVERAGE_TEST_MARKER();
 648:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
 649:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 650:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	else
 651:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 652:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		mtCOVERAGE_TEST_MARKER();
 653:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 654:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 655:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	traceSTREAM_BUFFER_SEND_FROM_ISR( xStreamBuffer, xReturn );
 656:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 657:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	return xReturn;
 658:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** }
 659:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /*-----------------------------------------------------------*/
ARM GAS  /tmp/ccmX5Z0F.s 			page 13


 660:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 661:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** static size_t prvWriteMessageToBuffer( StreamBuffer_t * const pxStreamBuffer,
 662:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 									   const void * pvTxData,
 663:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 									   size_t xDataLengthBytes,
 664:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 									   size_t xSpace,
 665:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 									   size_t xRequiredSpace )
 666:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** {
 667:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	BaseType_t xShouldWrite;
 668:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	size_t xReturn;
 669:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 670:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	if( xSpace == ( size_t ) 0 )
 671:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 672:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		/* Doesn't matter if this is a stream buffer or a message buffer, there
 673:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		is no space to write. */
 674:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		xShouldWrite = pdFALSE;
 675:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 676:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	else if( ( pxStreamBuffer->ucFlags & sbFLAGS_IS_MESSAGE_BUFFER ) == ( uint8_t ) 0 )
 677:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 678:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		/* This is a stream buffer, as opposed to a message buffer, so writing a
 679:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		stream of bytes rather than discrete messages.  Write as many bytes as
 680:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		possible. */
 681:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		xShouldWrite = pdTRUE;
 682:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		xDataLengthBytes = configMIN( xDataLengthBytes, xSpace );
 683:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 684:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	else if( xSpace >= xRequiredSpace )
 685:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 686:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		/* This is a message buffer, as opposed to a stream buffer, and there
 687:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		is enough space to write both the message length and the message itself
 688:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		into the buffer.  Start by writing the length of the data, the data
 689:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		itself will be written later in this function. */
 690:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		xShouldWrite = pdTRUE;
 691:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		( void ) prvWriteBytesToBuffer( pxStreamBuffer, ( const uint8_t * ) &( xDataLengthBytes ), sbBYTE
 692:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 693:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	else
 694:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 695:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		/* There is space available, but not enough space. */
 696:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		xShouldWrite = pdFALSE;
 697:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 698:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 699:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	if( xShouldWrite != pdFALSE )
 700:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 701:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		/* Writes the data itself. */
 702:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		xReturn = prvWriteBytesToBuffer( pxStreamBuffer, ( const uint8_t * ) pvTxData, xDataLengthBytes )
 703:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 704:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	else
 705:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 706:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		xReturn = 0;
 707:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 708:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 709:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	return xReturn;
 710:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** }
 711:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /*-----------------------------------------------------------*/
 712:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 713:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** size_t xStreamBufferReceive( StreamBufferHandle_t xStreamBuffer,
 714:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 							 void *pvRxData,
 715:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 							 size_t xBufferLengthBytes,
 716:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 							 TickType_t xTicksToWait )
ARM GAS  /tmp/ccmX5Z0F.s 			page 14


 717:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** {
 718:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** StreamBuffer_t * const pxStreamBuffer = xStreamBuffer;
 719:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** size_t xReceivedLength = 0, xBytesAvailable, xBytesToStoreMessageLength;
 720:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 721:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	configASSERT( pvRxData );
 722:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	configASSERT( pxStreamBuffer );
 723:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 724:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	/* This receive function is used by both message buffers, which store
 725:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	discrete messages, and stream buffers, which store a continuous stream of
 726:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	bytes.  Discrete messages include an additional
 727:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	sbBYTES_TO_STORE_MESSAGE_LENGTH bytes that hold the length of the
 728:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	message. */
 729:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	if( ( pxStreamBuffer->ucFlags & sbFLAGS_IS_MESSAGE_BUFFER ) != ( uint8_t ) 0 )
 730:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 731:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		xBytesToStoreMessageLength = sbBYTES_TO_STORE_MESSAGE_LENGTH;
 732:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 733:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	else
 734:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 735:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		xBytesToStoreMessageLength = 0;
 736:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 737:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 738:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	if( xTicksToWait != ( TickType_t ) 0 )
 739:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 740:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		/* Checking if there is data and clearing the notification state must be
 741:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		performed atomically. */
 742:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		taskENTER_CRITICAL();
 743:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
 744:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			xBytesAvailable = prvBytesInBuffer( pxStreamBuffer );
 745:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 746:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			/* If this function was invoked by a message buffer read then
 747:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			xBytesToStoreMessageLength holds the number of bytes used to hold
 748:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			the length of the next discrete message.  If this function was
 749:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			invoked by a stream buffer read then xBytesToStoreMessageLength will
 750:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			be 0. */
 751:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			if( xBytesAvailable <= xBytesToStoreMessageLength )
 752:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			{
 753:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 				/* Clear notification state as going to wait for data. */
 754:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 				( void ) xTaskNotifyStateClear( NULL );
 755:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 756:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 				/* Should only be one reader. */
 757:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 				configASSERT( pxStreamBuffer->xTaskWaitingToReceive == NULL );
 758:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 				pxStreamBuffer->xTaskWaitingToReceive = xTaskGetCurrentTaskHandle();
 759:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			}
 760:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			else
 761:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			{
 762:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 				mtCOVERAGE_TEST_MARKER();
 763:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			}
 764:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
 765:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		taskEXIT_CRITICAL();
 766:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 767:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		if( xBytesAvailable <= xBytesToStoreMessageLength )
 768:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
 769:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			/* Wait for data to be available. */
 770:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			traceBLOCKING_ON_STREAM_BUFFER_RECEIVE( xStreamBuffer );
 771:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			( void ) xTaskNotifyWait( ( uint32_t ) 0, ( uint32_t ) 0, NULL, xTicksToWait );
 772:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			pxStreamBuffer->xTaskWaitingToReceive = NULL;
 773:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
ARM GAS  /tmp/ccmX5Z0F.s 			page 15


 774:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			/* Recheck the data available after blocking. */
 775:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			xBytesAvailable = prvBytesInBuffer( pxStreamBuffer );
 776:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
 777:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		else
 778:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
 779:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			mtCOVERAGE_TEST_MARKER();
 780:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
 781:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 782:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	else
 783:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 784:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		xBytesAvailable = prvBytesInBuffer( pxStreamBuffer );
 785:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 786:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 787:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	/* Whether receiving a discrete message (where xBytesToStoreMessageLength
 788:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	holds the number of bytes used to store the message length) or a stream of
 789:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	bytes (where xBytesToStoreMessageLength is zero), the number of bytes
 790:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	available must be greater than xBytesToStoreMessageLength to be able to
 791:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	read bytes from the buffer. */
 792:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	if( xBytesAvailable > xBytesToStoreMessageLength )
 793:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 794:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		xReceivedLength = prvReadMessageFromBuffer( pxStreamBuffer, pvRxData, xBufferLengthBytes, xBytesA
 795:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 796:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		/* Was a task waiting for space in the buffer? */
 797:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		if( xReceivedLength != ( size_t ) 0 )
 798:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
 799:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			traceSTREAM_BUFFER_RECEIVE( xStreamBuffer, xReceivedLength );
 800:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			sbRECEIVE_COMPLETED( pxStreamBuffer );
 801:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
 802:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		else
 803:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
 804:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			mtCOVERAGE_TEST_MARKER();
 805:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
 806:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 807:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	else
 808:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 809:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		traceSTREAM_BUFFER_RECEIVE_FAILED( xStreamBuffer );
 810:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		mtCOVERAGE_TEST_MARKER();
 811:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 812:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 813:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	return xReceivedLength;
 814:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** }
 815:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /*-----------------------------------------------------------*/
 816:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 817:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** size_t xStreamBufferNextMessageLengthBytes( StreamBufferHandle_t xStreamBuffer )
 818:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** {
 819:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** StreamBuffer_t * const pxStreamBuffer = xStreamBuffer;
 820:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** size_t xReturn, xBytesAvailable, xOriginalTail;
 821:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** configMESSAGE_BUFFER_LENGTH_TYPE xTempReturn;
 822:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 823:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	configASSERT( pxStreamBuffer );
 824:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 825:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	/* Ensure the stream buffer is being used as a message buffer. */
 826:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	if( ( pxStreamBuffer->ucFlags & sbFLAGS_IS_MESSAGE_BUFFER ) != ( uint8_t ) 0 )
 827:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 828:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		xBytesAvailable = prvBytesInBuffer( pxStreamBuffer );
 829:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		if( xBytesAvailable > sbBYTES_TO_STORE_MESSAGE_LENGTH )
 830:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
ARM GAS  /tmp/ccmX5Z0F.s 			page 16


 831:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			/* The number of bytes available is greater than the number of bytes
 832:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			required to hold the length of the next message, so another message
 833:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			is available.  Return its length without removing the length bytes
 834:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			from the buffer.  A copy of the tail is stored so the buffer can be
 835:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			returned to its prior state as the message is not actually being
 836:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			removed from the buffer. */
 837:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			xOriginalTail = pxStreamBuffer->xTail;
 838:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			( void ) prvReadBytesFromBuffer( pxStreamBuffer, ( uint8_t * ) &xTempReturn, sbBYTES_TO_STORE_ME
 839:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			xReturn = ( size_t ) xTempReturn;
 840:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			pxStreamBuffer->xTail = xOriginalTail;
 841:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
 842:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		else
 843:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
 844:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			/* The minimum amount of bytes in a message buffer is
 845:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			( sbBYTES_TO_STORE_MESSAGE_LENGTH + 1 ), so if xBytesAvailable is
 846:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			less than sbBYTES_TO_STORE_MESSAGE_LENGTH the only other valid
 847:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			value is 0. */
 848:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			configASSERT( xBytesAvailable == 0 );
 849:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			xReturn = 0;
 850:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
 851:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 852:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	else
 853:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 854:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		xReturn = 0;
 855:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 856:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 857:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	return xReturn;
 858:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** }
 859:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /*-----------------------------------------------------------*/
 860:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 861:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** size_t xStreamBufferReceiveFromISR( StreamBufferHandle_t xStreamBuffer,
 862:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 									void *pvRxData,
 863:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 									size_t xBufferLengthBytes,
 864:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 									BaseType_t * const pxHigherPriorityTaskWoken )
 865:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** {
 866:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** StreamBuffer_t * const pxStreamBuffer = xStreamBuffer;
 867:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** size_t xReceivedLength = 0, xBytesAvailable, xBytesToStoreMessageLength;
 868:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 869:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	configASSERT( pvRxData );
 870:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	configASSERT( pxStreamBuffer );
 871:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 872:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	/* This receive function is used by both message buffers, which store
 873:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	discrete messages, and stream buffers, which store a continuous stream of
 874:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	bytes.  Discrete messages include an additional
 875:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	sbBYTES_TO_STORE_MESSAGE_LENGTH bytes that hold the length of the
 876:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	message. */
 877:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	if( ( pxStreamBuffer->ucFlags & sbFLAGS_IS_MESSAGE_BUFFER ) != ( uint8_t ) 0 )
 878:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 879:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		xBytesToStoreMessageLength = sbBYTES_TO_STORE_MESSAGE_LENGTH;
 880:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 881:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	else
 882:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 883:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		xBytesToStoreMessageLength = 0;
 884:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 885:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 886:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	xBytesAvailable = prvBytesInBuffer( pxStreamBuffer );
 887:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
ARM GAS  /tmp/ccmX5Z0F.s 			page 17


 888:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	/* Whether receiving a discrete message (where xBytesToStoreMessageLength
 889:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	holds the number of bytes used to store the message length) or a stream of
 890:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	bytes (where xBytesToStoreMessageLength is zero), the number of bytes
 891:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	available must be greater than xBytesToStoreMessageLength to be able to
 892:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	read bytes from the buffer. */
 893:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	if( xBytesAvailable > xBytesToStoreMessageLength )
 894:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 895:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		xReceivedLength = prvReadMessageFromBuffer( pxStreamBuffer, pvRxData, xBufferLengthBytes, xBytesA
 896:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 897:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		/* Was a task waiting for space in the buffer? */
 898:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		if( xReceivedLength != ( size_t ) 0 )
 899:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
 900:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			sbRECEIVE_COMPLETED_FROM_ISR( pxStreamBuffer, pxHigherPriorityTaskWoken );
 901:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
 902:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		else
 903:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
 904:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			mtCOVERAGE_TEST_MARKER();
 905:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
 906:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 907:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	else
 908:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 909:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		mtCOVERAGE_TEST_MARKER();
 910:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 911:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 912:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	traceSTREAM_BUFFER_RECEIVE_FROM_ISR( xStreamBuffer, xReceivedLength );
 913:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 914:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	return xReceivedLength;
 915:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** }
 916:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /*-----------------------------------------------------------*/
 917:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 918:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** static size_t prvReadMessageFromBuffer( StreamBuffer_t *pxStreamBuffer,
 919:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 										void *pvRxData,
 920:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 										size_t xBufferLengthBytes,
 921:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 										size_t xBytesAvailable,
 922:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 										size_t xBytesToStoreMessageLength )
 923:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** {
 924:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** size_t xOriginalTail, xReceivedLength, xNextMessageLength;
 925:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** configMESSAGE_BUFFER_LENGTH_TYPE xTempNextMessageLength;
 926:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 927:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	if( xBytesToStoreMessageLength != ( size_t ) 0 )
 928:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 929:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		/* A discrete message is being received.  First receive the length
 930:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		of the message.  A copy of the tail is stored so the buffer can be
 931:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		returned to its prior state if the length of the message is too
 932:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		large for the provided buffer. */
 933:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		xOriginalTail = pxStreamBuffer->xTail;
 934:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		( void ) prvReadBytesFromBuffer( pxStreamBuffer, ( uint8_t * ) &xTempNextMessageLength, xBytesToS
 935:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		xNextMessageLength = ( size_t ) xTempNextMessageLength;
 936:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 937:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		/* Reduce the number of bytes available by the number of bytes just
 938:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		read out. */
 939:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		xBytesAvailable -= xBytesToStoreMessageLength;
 940:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 941:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		/* Check there is enough space in the buffer provided by the
 942:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		user. */
 943:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		if( xNextMessageLength > xBufferLengthBytes )
 944:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
ARM GAS  /tmp/ccmX5Z0F.s 			page 18


 945:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			/* The user has provided insufficient space to read the message
 946:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			so return the buffer to its previous state (so the length of
 947:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			the message is in the buffer again). */
 948:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			pxStreamBuffer->xTail = xOriginalTail;
 949:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			xNextMessageLength = 0;
 950:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
 951:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		else
 952:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
 953:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			mtCOVERAGE_TEST_MARKER();
 954:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
 955:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 956:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	else
 957:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 958:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		/* A stream of bytes is being received (as opposed to a discrete
 959:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		message), so read as many bytes as possible. */
 960:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		xNextMessageLength = xBufferLengthBytes;
 961:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 962:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 963:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	/* Read the actual data. */
 964:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	xReceivedLength = prvReadBytesFromBuffer( pxStreamBuffer, ( uint8_t * ) pvRxData, xNextMessageLeng
 965:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 966:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	return xReceivedLength;
 967:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** }
 968:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /*-----------------------------------------------------------*/
 969:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 970:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** BaseType_t xStreamBufferIsEmpty( StreamBufferHandle_t xStreamBuffer )
 971:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** {
 972:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** const StreamBuffer_t * const pxStreamBuffer = xStreamBuffer;
 973:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** BaseType_t xReturn;
 974:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** size_t xTail;
 975:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 976:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	configASSERT( pxStreamBuffer );
 977:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 978:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	/* True if no bytes are available. */
 979:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	xTail = pxStreamBuffer->xTail;
 980:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	if( pxStreamBuffer->xHead == xTail )
 981:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 982:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		xReturn = pdTRUE;
 983:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 984:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	else
 985:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 986:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		xReturn = pdFALSE;
 987:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 988:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 989:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	return xReturn;
 990:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** }
 991:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /*-----------------------------------------------------------*/
 992:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 993:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** BaseType_t xStreamBufferIsFull( StreamBufferHandle_t xStreamBuffer )
 994:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** {
 995:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** BaseType_t xReturn;
 996:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** size_t xBytesToStoreMessageLength;
 997:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** const StreamBuffer_t * const pxStreamBuffer = xStreamBuffer;
 998:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 999:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	configASSERT( pxStreamBuffer );
1000:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
1001:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	/* This generic version of the receive function is used by both message
ARM GAS  /tmp/ccmX5Z0F.s 			page 19


1002:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	buffers, which store discrete messages, and stream buffers, which store a
1003:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	continuous stream of bytes.  Discrete messages include an additional
1004:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	sbBYTES_TO_STORE_MESSAGE_LENGTH bytes that hold the length of the message. */
1005:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	if( ( pxStreamBuffer->ucFlags & sbFLAGS_IS_MESSAGE_BUFFER ) != ( uint8_t ) 0 )
1006:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
1007:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		xBytesToStoreMessageLength = sbBYTES_TO_STORE_MESSAGE_LENGTH;
1008:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
1009:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	else
1010:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
1011:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		xBytesToStoreMessageLength = 0;
1012:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
1013:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
1014:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	/* True if the available space equals zero. */
1015:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	if( xStreamBufferSpacesAvailable( xStreamBuffer ) <= xBytesToStoreMessageLength )
1016:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
1017:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		xReturn = pdTRUE;
1018:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
1019:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	else
1020:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
1021:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		xReturn = pdFALSE;
1022:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
1023:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
1024:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	return xReturn;
1025:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** }
1026:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /*-----------------------------------------------------------*/
1027:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
1028:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** BaseType_t xStreamBufferSendCompletedFromISR( StreamBufferHandle_t xStreamBuffer, BaseType_t *pxHig
1029:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** {
1030:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** StreamBuffer_t * const pxStreamBuffer = xStreamBuffer;
1031:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** BaseType_t xReturn;
1032:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** UBaseType_t uxSavedInterruptStatus;
1033:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
1034:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	configASSERT( pxStreamBuffer );
1035:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
1036:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	uxSavedInterruptStatus = ( UBaseType_t ) portSET_INTERRUPT_MASK_FROM_ISR();
1037:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
1038:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		if( ( pxStreamBuffer )->xTaskWaitingToReceive != NULL )
1039:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
1040:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			( void ) xTaskNotifyFromISR( ( pxStreamBuffer )->xTaskWaitingToReceive,
1041:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 										 ( uint32_t ) 0,
1042:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 										 eNoAction,
1043:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 										 pxHigherPriorityTaskWoken );
1044:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			( pxStreamBuffer )->xTaskWaitingToReceive = NULL;
1045:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			xReturn = pdTRUE;
1046:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
1047:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		else
1048:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
1049:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			xReturn = pdFALSE;
1050:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
1051:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
1052:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	portCLEAR_INTERRUPT_MASK_FROM_ISR( uxSavedInterruptStatus );
1053:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
1054:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	return xReturn;
1055:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** }
1056:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /*-----------------------------------------------------------*/
1057:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
1058:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** BaseType_t xStreamBufferReceiveCompletedFromISR( StreamBufferHandle_t xStreamBuffer, BaseType_t *px
ARM GAS  /tmp/ccmX5Z0F.s 			page 20


1059:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** {
1060:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** StreamBuffer_t * const pxStreamBuffer = xStreamBuffer;
1061:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** BaseType_t xReturn;
1062:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** UBaseType_t uxSavedInterruptStatus;
1063:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
1064:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	configASSERT( pxStreamBuffer );
1065:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
1066:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	uxSavedInterruptStatus = ( UBaseType_t ) portSET_INTERRUPT_MASK_FROM_ISR();
1067:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
1068:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		if( ( pxStreamBuffer )->xTaskWaitingToSend != NULL )
1069:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
1070:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			( void ) xTaskNotifyFromISR( ( pxStreamBuffer )->xTaskWaitingToSend,
1071:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 										 ( uint32_t ) 0,
1072:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 										 eNoAction,
1073:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 										 pxHigherPriorityTaskWoken );
1074:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			( pxStreamBuffer )->xTaskWaitingToSend = NULL;
1075:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			xReturn = pdTRUE;
1076:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
1077:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		else
1078:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
1079:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			xReturn = pdFALSE;
1080:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
1081:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
1082:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	portCLEAR_INTERRUPT_MASK_FROM_ISR( uxSavedInterruptStatus );
1083:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
1084:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	return xReturn;
1085:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** }
1086:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /*-----------------------------------------------------------*/
1087:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
1088:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** static size_t prvWriteBytesToBuffer( StreamBuffer_t * const pxStreamBuffer, const uint8_t *pucData,
1089:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** {
1090:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** size_t xNextHead, xFirstLength;
1091:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
1092:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	configASSERT( xCount > ( size_t ) 0 );
1093:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
1094:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	xNextHead = pxStreamBuffer->xHead;
1095:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
1096:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	/* Calculate the number of bytes that can be added in the first write -
1097:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	which may be less than the total number of bytes that need to be added if
1098:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	the buffer will wrap back to the beginning. */
1099:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	xFirstLength = configMIN( pxStreamBuffer->xLength - xNextHead, xCount );
1100:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
1101:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	/* Write as many bytes as can be written in the first write. */
1102:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	configASSERT( ( xNextHead + xFirstLength ) <= pxStreamBuffer->xLength );
1103:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	( void ) memcpy( ( void* ) ( &( pxStreamBuffer->pucBuffer[ xNextHead ] ) ), ( const void * ) pucDa
1104:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
1105:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	/* If the number of bytes written was less than the number that could be
1106:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	written in the first write... */
1107:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	if( xCount > xFirstLength )
1108:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
1109:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		/* ...then write the remaining bytes to the start of the buffer. */
1110:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		configASSERT( ( xCount - xFirstLength ) <= pxStreamBuffer->xLength );
1111:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		( void ) memcpy( ( void * ) pxStreamBuffer->pucBuffer, ( const void * ) &( pucData[ xFirstLength 
1112:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
1113:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	else
1114:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
1115:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		mtCOVERAGE_TEST_MARKER();
ARM GAS  /tmp/ccmX5Z0F.s 			page 21


1116:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
1117:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
1118:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	xNextHead += xCount;
1119:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	if( xNextHead >= pxStreamBuffer->xLength )
1120:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
1121:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		xNextHead -= pxStreamBuffer->xLength;
1122:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
1123:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	else
1124:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
1125:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		mtCOVERAGE_TEST_MARKER();
1126:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
1127:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
1128:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	pxStreamBuffer->xHead = xNextHead;
1129:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
1130:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	return xCount;
1131:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** }
1132:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /*-----------------------------------------------------------*/
1133:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
1134:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** static size_t prvReadBytesFromBuffer( StreamBuffer_t *pxStreamBuffer, uint8_t *pucData, size_t xMax
1135:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** {
1136:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** size_t xCount, xFirstLength, xNextTail;
1137:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
1138:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	/* Use the minimum of the wanted bytes and the available bytes. */
1139:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	xCount = configMIN( xBytesAvailable, xMaxCount );
1140:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
1141:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	if( xCount > ( size_t ) 0 )
1142:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
1143:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		xNextTail = pxStreamBuffer->xTail;
1144:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
1145:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		/* Calculate the number of bytes that can be read - which may be
1146:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		less than the number wanted if the data wraps around to the start of
1147:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		the buffer. */
1148:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		xFirstLength = configMIN( pxStreamBuffer->xLength - xNextTail, xCount );
1149:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
1150:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		/* Obtain the number of bytes it is possible to obtain in the first
1151:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		read.  Asserts check bounds of read and write. */
1152:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		configASSERT( xFirstLength <= xMaxCount );
1153:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		configASSERT( ( xNextTail + xFirstLength ) <= pxStreamBuffer->xLength );
1154:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		( void ) memcpy( ( void * ) pucData, ( const void * ) &( pxStreamBuffer->pucBuffer[ xNextTail ] )
1155:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
1156:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		/* If the total number of wanted bytes is greater than the number
1157:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		that could be read in the first read... */
1158:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		if( xCount > xFirstLength )
1159:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
1160:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			/*...then read the remaining bytes from the start of the buffer. */
1161:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			configASSERT( xCount <= xMaxCount );
1162:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			( void ) memcpy( ( void * ) &( pucData[ xFirstLength ] ), ( void * ) ( pxStreamBuffer->pucBuffer
1163:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
1164:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		else
1165:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
1166:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			mtCOVERAGE_TEST_MARKER();
1167:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
1168:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
1169:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		/* Move the tail pointer to effectively remove the data read from
1170:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		the buffer. */
1171:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		xNextTail += xCount;
1172:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
ARM GAS  /tmp/ccmX5Z0F.s 			page 22


1173:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		if( xNextTail >= pxStreamBuffer->xLength )
1174:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
1175:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			xNextTail -= pxStreamBuffer->xLength;
1176:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
1177:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
1178:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		pxStreamBuffer->xTail = xNextTail;
1179:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
1180:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	else
1181:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
1182:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		mtCOVERAGE_TEST_MARKER();
1183:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
1184:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
1185:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	return xCount;
1186:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** }
1187:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /*-----------------------------------------------------------*/
1188:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
1189:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** static size_t prvBytesInBuffer( const StreamBuffer_t * const pxStreamBuffer )
1190:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** {
  27              		.loc 1 1190 0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              		@ link register save eliminated.
  32              	.LVL0:
1191:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /* Returns the distance between xTail and xHead. */
1192:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** size_t xCount;
1193:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
1194:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	xCount = pxStreamBuffer->xLength + pxStreamBuffer->xHead;
  33              		.loc 1 1194 0
  34 0000 8268     		ldr	r2, [r0, #8]
  35 0002 4368     		ldr	r3, [r0, #4]
  36 0004 1344     		add	r3, r3, r2
  37              	.LVL1:
1195:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	xCount -= pxStreamBuffer->xTail;
  38              		.loc 1 1195 0
  39 0006 0068     		ldr	r0, [r0]
  40              	.LVL2:
  41 0008 181A     		subs	r0, r3, r0
  42              	.LVL3:
1196:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	if ( xCount >= pxStreamBuffer->xLength )
  43              		.loc 1 1196 0
  44 000a 8242     		cmp	r2, r0
  45 000c 00D8     		bhi	.L1
1197:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
1198:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		xCount -= pxStreamBuffer->xLength;
  46              		.loc 1 1198 0
  47 000e 801A     		subs	r0, r0, r2
  48              	.LVL4:
  49              	.L1:
1199:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
1200:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	else
1201:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
1202:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		mtCOVERAGE_TEST_MARKER();
1203:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
1204:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
1205:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	return xCount;
1206:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** }
ARM GAS  /tmp/ccmX5Z0F.s 			page 23


  50              		.loc 1 1206 0
  51 0010 7047     		bx	lr
  52              		.cfi_endproc
  53              	.LFE25:
  55              		.section	.text.prvInitialiseNewStreamBuffer,"ax",%progbits
  56              		.align	1
  57              		.syntax unified
  58              		.thumb
  59              		.thumb_func
  60              		.fpu fpv4-sp-d16
  62              	prvInitialiseNewStreamBuffer:
  63              	.LFB26:
1207:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /*-----------------------------------------------------------*/
1208:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
1209:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** static void prvInitialiseNewStreamBuffer( StreamBuffer_t * const pxStreamBuffer,
1210:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 										  uint8_t * const pucBuffer,
1211:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 										  size_t xBufferSizeBytes,
1212:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 										  size_t xTriggerLevelBytes,
1213:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 										  uint8_t ucFlags )
1214:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** {
  64              		.loc 1 1214 0
  65              		.cfi_startproc
  66              		@ args = 4, pretend = 0, frame = 0
  67              		@ frame_needed = 0, uses_anonymous_args = 0
  68              	.LVL5:
  69 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
  70              	.LCFI0:
  71              		.cfi_def_cfa_offset 24
  72              		.cfi_offset 3, -24
  73              		.cfi_offset 4, -20
  74              		.cfi_offset 5, -16
  75              		.cfi_offset 6, -12
  76              		.cfi_offset 7, -8
  77              		.cfi_offset 14, -4
  78 0002 0446     		mov	r4, r0
  79 0004 0D46     		mov	r5, r1
  80 0006 1746     		mov	r7, r2
  81 0008 1E46     		mov	r6, r3
  82              	.LVL6:
  83              	.LBB96:
1215:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	/* Assert here is deliberately writing to the entire buffer to ensure it can
1216:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	be written to without generating exceptions, and is setting the buffer to a
1217:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	known value to assist in development/debugging. */
1218:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	#if( configASSERT_DEFINED == 1 )
1219:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
1220:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		/* The value written just has to be identifiable when looking at the
1221:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		memory.  Don't use 0xA5 as that is the stack fill value and could
1222:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		result in confusion as to what is actually being observed. */
1223:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		const BaseType_t xWriteValue = 0x55;
1224:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		configASSERT( memset( pucBuffer, ( int ) xWriteValue, xBufferSizeBytes ) == pucBuffer );
  84              		.loc 1 1224 0
  85 000a 5521     		movs	r1, #85
  86              	.LVL7:
  87 000c 2846     		mov	r0, r5
  88              	.LVL8:
  89 000e FFF7FEFF 		bl	memset
  90              	.LVL9:
ARM GAS  /tmp/ccmX5Z0F.s 			page 24


  91 0012 8542     		cmp	r5, r0
  92 0014 08D0     		beq	.L4
  93              	.LBB97:
  94              	.LBB98:
  95              		.file 2 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h"
   1:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /*
   2:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * FreeRTOS Kernel V10.3.1
   3:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * Copyright (C) 2020 Amazon.com, Inc. or its affiliates.  All Rights Reserved.
   4:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  *
   5:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * Permission is hereby granted, free of charge, to any person obtaining a copy of
   6:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * this software and associated documentation files (the "Software"), to deal in
   7:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * the Software without restriction, including without limitation the rights to
   8:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
   9:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * the Software, and to permit persons to whom the Software is furnished to do so,
  10:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * subject to the following conditions:
  11:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  *
  12:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * The above copyright notice and this permission notice shall be included in all
  13:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * copies or substantial portions of the Software.
  14:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  *
  15:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  16:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
  17:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
  18:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
  19:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
  20:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
  21:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  *
  22:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * http://www.FreeRTOS.org
  23:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * http://aws.amazon.com/freertos
  24:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  *
  25:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * 1 tab == 4 spaces!
  26:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  */
  27:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  28:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  29:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #ifndef PORTMACRO_H
  30:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define PORTMACRO_H
  31:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  32:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #ifdef __cplusplus
  33:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** extern "C" {
  34:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #endif
  35:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  36:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /*-----------------------------------------------------------
  37:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * Port specific definitions.
  38:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  *
  39:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * The settings in this file configure FreeRTOS correctly for the
  40:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * given hardware and compiler.
  41:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  *
  42:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * These settings should not be altered.
  43:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  *-----------------------------------------------------------
  44:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  */
  45:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  46:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /* Type definitions. */
  47:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portCHAR		char
  48:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portFLOAT		float
  49:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portDOUBLE		double
  50:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portLONG		long
  51:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portSHORT		short
  52:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portSTACK_TYPE	uint32_t
ARM GAS  /tmp/ccmX5Z0F.s 			page 25


  53:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portBASE_TYPE	long
  54:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  55:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** typedef portSTACK_TYPE StackType_t;
  56:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** typedef long BaseType_t;
  57:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** typedef unsigned long UBaseType_t;
  58:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  59:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #if( configUSE_16_BIT_TICKS == 1 )
  60:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	typedef uint16_t TickType_t;
  61:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	#define portMAX_DELAY ( TickType_t ) 0xffff
  62:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #else
  63:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	typedef uint32_t TickType_t;
  64:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	#define portMAX_DELAY ( TickType_t ) 0xffffffffUL
  65:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  66:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	/* 32-bit tick type on a 32-bit architecture, so reads of the tick count do
  67:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	not need to be guarded with a critical section. */
  68:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	#define portTICK_TYPE_IS_ATOMIC 1
  69:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #endif
  70:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /*-----------------------------------------------------------*/
  71:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  72:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /* Architecture specifics. */
  73:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portSTACK_GROWTH			( -1 )
  74:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portTICK_PERIOD_MS			( ( TickType_t ) 1000 / configTICK_RATE_HZ )
  75:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portBYTE_ALIGNMENT			8
  76:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /*-----------------------------------------------------------*/
  77:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  78:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /* Scheduler utilities. */
  79:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portYIELD() 															\
  80:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** {																				\
  81:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	/* Set a PendSV to request a context switch. */								\
  82:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	portNVIC_INT_CTRL_REG = portNVIC_PENDSVSET_BIT;								\
  83:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 																				\
  84:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	/* Barriers are normally not required but do ensure the code is completely	\
  85:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	within the specified behaviour for the architecture. */						\
  86:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	__asm volatile( "dsb" ::: "memory" );										\
  87:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	__asm volatile( "isb" );													\
  88:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** }
  89:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  90:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portNVIC_INT_CTRL_REG		( * ( ( volatile uint32_t * ) 0xe000ed04 ) )
  91:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portNVIC_PENDSVSET_BIT		( 1UL << 28UL )
  92:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portEND_SWITCHING_ISR( xSwitchRequired ) if( xSwitchRequired != pdFALSE ) portYIELD()
  93:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portYIELD_FROM_ISR( x ) portEND_SWITCHING_ISR( x )
  94:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /*-----------------------------------------------------------*/
  95:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  96:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /* Critical section management. */
  97:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** extern void vPortEnterCritical( void );
  98:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** extern void vPortExitCritical( void );
  99:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portSET_INTERRUPT_MASK_FROM_ISR()		ulPortRaiseBASEPRI()
 100:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portCLEAR_INTERRUPT_MASK_FROM_ISR(x)	vPortSetBASEPRI(x)
 101:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portDISABLE_INTERRUPTS()				vPortRaiseBASEPRI()
 102:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portENABLE_INTERRUPTS()					vPortSetBASEPRI(0)
 103:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portENTER_CRITICAL()					vPortEnterCritical()
 104:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portEXIT_CRITICAL()						vPortExitCritical()
 105:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 106:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /*-----------------------------------------------------------*/
 107:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 108:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /* Task function macros as described on the FreeRTOS.org WEB site.  These are
 109:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** not necessary for to use this port.  They are defined so the common demo files
ARM GAS  /tmp/ccmX5Z0F.s 			page 26


 110:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** (which build with all the ports) will build. */
 111:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portTASK_FUNCTION_PROTO( vFunction, pvParameters ) void vFunction( void *pvParameters )
 112:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portTASK_FUNCTION( vFunction, pvParameters ) void vFunction( void *pvParameters )
 113:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /*-----------------------------------------------------------*/
 114:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 115:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /* Tickless idle/low power functionality. */
 116:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #ifndef portSUPPRESS_TICKS_AND_SLEEP
 117:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	extern void vPortSuppressTicksAndSleep( TickType_t xExpectedIdleTime );
 118:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	#define portSUPPRESS_TICKS_AND_SLEEP( xExpectedIdleTime ) vPortSuppressTicksAndSleep( xExpectedIdl
 119:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #endif
 120:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /*-----------------------------------------------------------*/
 121:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 122:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /* Architecture specific optimisations. */
 123:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #ifndef configUSE_PORT_OPTIMISED_TASK_SELECTION
 124:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	#define configUSE_PORT_OPTIMISED_TASK_SELECTION 1
 125:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #endif
 126:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 127:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #if configUSE_PORT_OPTIMISED_TASK_SELECTION == 1
 128:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 129:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	/* Generic helper function. */
 130:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	__attribute__( ( always_inline ) ) static inline uint8_t ucPortCountLeadingZeros( uint32_t ulBitma
 131:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	{
 132:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	uint8_t ucReturn;
 133:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 134:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		__asm volatile ( "clz %0, %1" : "=r" ( ucReturn ) : "r" ( ulBitmap ) : "memory" );
 135:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		return ucReturn;
 136:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	}
 137:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 138:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	/* Check the configuration. */
 139:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	#if( configMAX_PRIORITIES > 32 )
 140:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		#error configUSE_PORT_OPTIMISED_TASK_SELECTION can only be set to 1 when configMAX_PRIORITIES is 
 141:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	#endif
 142:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 143:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	/* Store/clear the ready priorities in a bit map. */
 144:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	#define portRECORD_READY_PRIORITY( uxPriority, uxReadyPriorities ) ( uxReadyPriorities ) |= ( 1UL 
 145:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	#define portRESET_READY_PRIORITY( uxPriority, uxReadyPriorities ) ( uxReadyPriorities ) &= ~( 1UL 
 146:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 147:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	/*-----------------------------------------------------------*/
 148:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 149:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	#define portGET_HIGHEST_PRIORITY( uxTopPriority, uxReadyPriorities ) uxTopPriority = ( 31UL - ( ui
 150:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 151:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #endif /* configUSE_PORT_OPTIMISED_TASK_SELECTION */
 152:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 153:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /*-----------------------------------------------------------*/
 154:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 155:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #ifdef configASSERT
 156:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	void vPortValidateInterruptPriority( void );
 157:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	#define portASSERT_IF_INTERRUPT_PRIORITY_INVALID() 	vPortValidateInterruptPriority()
 158:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #endif
 159:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 160:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /* portNOP() is not required by this port. */
 161:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portNOP()
 162:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 163:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portINLINE	__inline
 164:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 165:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #ifndef portFORCE_INLINE
 166:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	#define portFORCE_INLINE inline __attribute__(( always_inline))
ARM GAS  /tmp/ccmX5Z0F.s 			page 27


 167:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #endif
 168:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 169:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** portFORCE_INLINE static BaseType_t xPortIsInsideInterrupt( void )
 170:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** {
 171:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** uint32_t ulCurrentInterrupt;
 172:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** BaseType_t xReturn;
 173:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 174:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	/* Obtain the number of the currently executing interrupt. */
 175:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	__asm volatile( "mrs %0, ipsr" : "=r"( ulCurrentInterrupt ) :: "memory" );
 176:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 177:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	if( ulCurrentInterrupt == 0 )
 178:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	{
 179:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		xReturn = pdFALSE;
 180:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	}
 181:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	else
 182:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	{
 183:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		xReturn = pdTRUE;
 184:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	}
 185:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 186:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	return xReturn;
 187:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** }
 188:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 189:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /*-----------------------------------------------------------*/
 190:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 191:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** portFORCE_INLINE static void vPortRaiseBASEPRI( void )
 192:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** {
 193:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** uint32_t ulNewBASEPRI;
 194:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 195:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	__asm volatile
  96              		.loc 2 195 0
  97              		.syntax unified
  98              	@ 195 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h" 1
  99 0016 4FF05003 			mov r3, #80												
 100 001a 83F31188 		msr basepri, r3											
 101 001e BFF36F8F 		isb														
 102 0022 BFF34F8F 		dsb														
 103              	
 104              	@ 0 "" 2
 105              	.LVL10:
 106              		.thumb
 107              		.syntax unified
 108              	.L5:
 109 0026 FEE7     		b	.L5
 110              	.L4:
 111              	.LBE98:
 112              	.LBE97:
 113              	.LBE96:
1225:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	} /*lint !e529 !e438 xWriteValue is only used if configASSERT() is defined. */
1226:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	#endif
1227:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
1228:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	( void ) memset( ( void * ) pxStreamBuffer, 0x00, sizeof( StreamBuffer_t ) ); /*lint !e9087 memset
 114              		.loc 1 1228 0
 115 0028 2022     		movs	r2, #32
 116 002a 0021     		movs	r1, #0
 117 002c 2046     		mov	r0, r4
 118 002e FFF7FEFF 		bl	memset
 119              	.LVL11:
ARM GAS  /tmp/ccmX5Z0F.s 			page 28


1229:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	pxStreamBuffer->pucBuffer = pucBuffer;
 120              		.loc 1 1229 0
 121 0032 A561     		str	r5, [r4, #24]
1230:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	pxStreamBuffer->xLength = xBufferSizeBytes;
 122              		.loc 1 1230 0
 123 0034 A760     		str	r7, [r4, #8]
1231:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	pxStreamBuffer->xTriggerLevelBytes = xTriggerLevelBytes;
 124              		.loc 1 1231 0
 125 0036 E660     		str	r6, [r4, #12]
1232:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	pxStreamBuffer->ucFlags = ucFlags;
 126              		.loc 1 1232 0
 127 0038 9DF81830 		ldrb	r3, [sp, #24]	@ zero_extendqisi2
 128 003c 2377     		strb	r3, [r4, #28]
 129 003e F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 130              		.cfi_endproc
 131              	.LFE26:
 133              		.section	.text.prvWriteBytesToBuffer,"ax",%progbits
 134              		.align	1
 135              		.syntax unified
 136              		.thumb
 137              		.thumb_func
 138              		.fpu fpv4-sp-d16
 140              	prvWriteBytesToBuffer:
 141              	.LFB23:
1089:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** size_t xNextHead, xFirstLength;
 142              		.loc 1 1089 0
 143              		.cfi_startproc
 144              		@ args = 0, pretend = 0, frame = 0
 145              		@ frame_needed = 0, uses_anonymous_args = 0
 146              	.LVL12:
1092:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 147              		.loc 1 1092 0
 148 0000 42B9     		cbnz	r2, .L8
 149              	.LBB99:
 150              	.LBB100:
 151              		.loc 2 195 0
 152              		.syntax unified
 153              	@ 195 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h" 1
 154 0002 4FF05003 			mov r3, #80												
 155 0006 83F31188 		msr basepri, r3											
 156 000a BFF36F8F 		isb														
 157 000e BFF34F8F 		dsb														
 158              	
 159              	@ 0 "" 2
 160              	.LVL13:
 161              		.thumb
 162              		.syntax unified
 163              	.L9:
 164 0012 FEE7     		b	.L9
 165              	.L8:
 166              	.LBE100:
 167              	.LBE99:
1089:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** size_t xNextHead, xFirstLength;
 168              		.loc 1 1089 0
 169 0014 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 170              	.LCFI1:
 171              		.cfi_def_cfa_offset 24
ARM GAS  /tmp/ccmX5Z0F.s 			page 29


 172              		.cfi_offset 4, -24
 173              		.cfi_offset 5, -20
 174              		.cfi_offset 6, -16
 175              		.cfi_offset 7, -12
 176              		.cfi_offset 8, -8
 177              		.cfi_offset 14, -4
 178 0018 1746     		mov	r7, r2
1094:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 179              		.loc 1 1094 0
 180 001a 4668     		ldr	r6, [r0, #4]
 181              	.LVL14:
1099:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 182              		.loc 1 1099 0
 183 001c 8368     		ldr	r3, [r0, #8]
 184 001e A3EB0608 		sub	r8, r3, r6
 185 0022 9045     		cmp	r8, r2
 186 0024 28BF     		it	cs
 187 0026 9046     		movcs	r8, r2
 188              	.LVL15:
1102:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	( void ) memcpy( ( void* ) ( &( pxStreamBuffer->pucBuffer[ xNextHead ] ) ), ( const void * ) pucDa
 189              		.loc 1 1102 0
 190 0028 06EB0802 		add	r2, r6, r8
 191              	.LVL16:
 192 002c 9342     		cmp	r3, r2
 193 002e 08D2     		bcs	.L10
 194              	.LBB101:
 195              	.LBB102:
 196              		.loc 2 195 0
 197              		.syntax unified
 198              	@ 195 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h" 1
 199 0030 4FF05003 			mov r3, #80												
 200 0034 83F31188 		msr basepri, r3											
 201 0038 BFF36F8F 		isb														
 202 003c BFF34F8F 		dsb														
 203              	
 204              	@ 0 "" 2
 205              	.LVL17:
 206              		.thumb
 207              		.syntax unified
 208              	.L11:
 209 0040 FEE7     		b	.L11
 210              	.L10:
 211 0042 0D46     		mov	r5, r1
 212 0044 0446     		mov	r4, r0
 213              	.LBE102:
 214              	.LBE101:
1103:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 215              		.loc 1 1103 0
 216 0046 8069     		ldr	r0, [r0, #24]
 217              	.LVL18:
 218 0048 4246     		mov	r2, r8
 219 004a 3044     		add	r0, r0, r6
 220 004c FFF7FEFF 		bl	memcpy
 221              	.LVL19:
1107:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 222              		.loc 1 1107 0
 223 0050 4745     		cmp	r7, r8
ARM GAS  /tmp/ccmX5Z0F.s 			page 30


 224 0052 12D9     		bls	.L12
1110:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		( void ) memcpy( ( void * ) pxStreamBuffer->pucBuffer, ( const void * ) &( pucData[ xFirstLength 
 225              		.loc 1 1110 0
 226 0054 A7EB0802 		sub	r2, r7, r8
 227 0058 A368     		ldr	r3, [r4, #8]
 228 005a 9A42     		cmp	r2, r3
 229 005c 08D9     		bls	.L13
 230              	.LBB103:
 231              	.LBB104:
 232              		.loc 2 195 0
 233              		.syntax unified
 234              	@ 195 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h" 1
 235 005e 4FF05003 			mov r3, #80												
 236 0062 83F31188 		msr basepri, r3											
 237 0066 BFF36F8F 		isb														
 238 006a BFF34F8F 		dsb														
 239              	
 240              	@ 0 "" 2
 241              	.LVL20:
 242              		.thumb
 243              		.syntax unified
 244              	.L14:
 245 006e FEE7     		b	.L14
 246              	.L13:
 247              	.LBE104:
 248              	.LBE103:
1111:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 249              		.loc 1 1111 0
 250 0070 05EB0801 		add	r1, r5, r8
 251 0074 A069     		ldr	r0, [r4, #24]
 252 0076 FFF7FEFF 		bl	memcpy
 253              	.LVL21:
 254              	.L12:
1118:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	if( xNextHead >= pxStreamBuffer->xLength )
 255              		.loc 1 1118 0
 256 007a 3E44     		add	r6, r6, r7
 257              	.LVL22:
1119:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 258              		.loc 1 1119 0
 259 007c A268     		ldr	r2, [r4, #8]
 260 007e 9642     		cmp	r6, r2
 261 0080 00D3     		bcc	.L15
1121:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 262              		.loc 1 1121 0
 263 0082 B61A     		subs	r6, r6, r2
 264              	.LVL23:
 265              	.L15:
1128:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 266              		.loc 1 1128 0
 267 0084 6660     		str	r6, [r4, #4]
1131:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /*-----------------------------------------------------------*/
 268              		.loc 1 1131 0
 269 0086 3846     		mov	r0, r7
 270 0088 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 271              		.cfi_endproc
 272              	.LFE23:
 274              		.section	.text.prvWriteMessageToBuffer,"ax",%progbits
ARM GAS  /tmp/ccmX5Z0F.s 			page 31


 275              		.align	1
 276              		.syntax unified
 277              		.thumb
 278              		.thumb_func
 279              		.fpu fpv4-sp-d16
 281              	prvWriteMessageToBuffer:
 282              	.LFB14:
 666:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	BaseType_t xShouldWrite;
 283              		.loc 1 666 0
 284              		.cfi_startproc
 285              		@ args = 4, pretend = 0, frame = 8
 286              		@ frame_needed = 0, uses_anonymous_args = 0
 287              	.LVL24:
 288 0000 30B5     		push	{r4, r5, lr}
 289              	.LCFI2:
 290              		.cfi_def_cfa_offset 12
 291              		.cfi_offset 4, -12
 292              		.cfi_offset 5, -8
 293              		.cfi_offset 14, -4
 294 0002 83B0     		sub	sp, sp, #12
 295              	.LCFI3:
 296              		.cfi_def_cfa_offset 24
 297 0004 0446     		mov	r4, r0
 298 0006 0D46     		mov	r5, r1
 299 0008 0192     		str	r2, [sp, #4]
 670:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 300              		.loc 1 670 0
 301 000a BBB1     		cbz	r3, .L22
 302 000c 1A46     		mov	r2, r3
 303              	.LVL25:
 676:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 304              		.loc 1 676 0
 305 000e 037F     		ldrb	r3, [r0, #28]	@ zero_extendqisi2
 306              	.LVL26:
 307 0010 13F0010F 		tst	r3, #1
 308 0014 06D1     		bne	.L20
 309              	.LVL27:
 682:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 310              		.loc 1 682 0
 311 0016 019B     		ldr	r3, [sp, #4]
 312 0018 9A42     		cmp	r2, r3
 313 001a 28BF     		it	cs
 314 001c 1A46     		movcs	r2, r3
 315              	.LVL28:
 316 001e 0192     		str	r2, [sp, #4]
 317              	.LVL29:
 681:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		xDataLengthBytes = configMIN( xDataLengthBytes, xSpace );
 318              		.loc 1 681 0
 319 0020 0123     		movs	r3, #1
 320              	.LVL30:
 321 0022 0CE0     		b	.L19
 322              	.LVL31:
 323              	.L20:
 684:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 324              		.loc 1 684 0
 325 0024 069B     		ldr	r3, [sp, #24]
 326 0026 9A42     		cmp	r2, r3
ARM GAS  /tmp/ccmX5Z0F.s 			page 32


 327 0028 01D2     		bcs	.L26
 696:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 328              		.loc 1 696 0
 329 002a 0023     		movs	r3, #0
 330 002c 07E0     		b	.L19
 331              	.L26:
 332              	.LVL32:
 691:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 333              		.loc 1 691 0
 334 002e 0422     		movs	r2, #4
 335              	.LVL33:
 336 0030 0DEB0201 		add	r1, sp, r2
 337              	.LVL34:
 338 0034 FFF7FEFF 		bl	prvWriteBytesToBuffer
 339              	.LVL35:
 690:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		( void ) prvWriteBytesToBuffer( pxStreamBuffer, ( const uint8_t * ) &( xDataLengthBytes ), sbBYTE
 340              		.loc 1 690 0
 341 0038 0123     		movs	r3, #1
 342 003a 00E0     		b	.L19
 343              	.LVL36:
 344              	.L22:
 674:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 345              		.loc 1 674 0
 346 003c 0023     		movs	r3, #0
 347              	.LVL37:
 348              	.L19:
 699:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 349              		.loc 1 699 0
 350 003e 13B9     		cbnz	r3, .L27
 706:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 351              		.loc 1 706 0
 352 0040 0020     		movs	r0, #0
 353              	.LVL38:
 354              	.L18:
 710:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /*-----------------------------------------------------------*/
 355              		.loc 1 710 0
 356 0042 03B0     		add	sp, sp, #12
 357              	.LCFI4:
 358              		.cfi_remember_state
 359              		.cfi_def_cfa_offset 12
 360              		@ sp needed
 361 0044 30BD     		pop	{r4, r5, pc}
 362              	.LVL39:
 363              	.L27:
 364              	.LCFI5:
 365              		.cfi_restore_state
 702:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 366              		.loc 1 702 0
 367 0046 019A     		ldr	r2, [sp, #4]
 368 0048 2946     		mov	r1, r5
 369 004a 2046     		mov	r0, r4
 370 004c FFF7FEFF 		bl	prvWriteBytesToBuffer
 371              	.LVL40:
 372 0050 F7E7     		b	.L18
 373              		.cfi_endproc
 374              	.LFE14:
 376              		.section	.text.prvReadBytesFromBuffer,"ax",%progbits
ARM GAS  /tmp/ccmX5Z0F.s 			page 33


 377              		.align	1
 378              		.syntax unified
 379              		.thumb
 380              		.thumb_func
 381              		.fpu fpv4-sp-d16
 383              	prvReadBytesFromBuffer:
 384              	.LFB24:
1135:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** size_t xCount, xFirstLength, xNextTail;
 385              		.loc 1 1135 0
 386              		.cfi_startproc
 387              		@ args = 0, pretend = 0, frame = 0
 388              		@ frame_needed = 0, uses_anonymous_args = 0
 389              	.LVL41:
 390 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 391              	.LCFI6:
 392              		.cfi_def_cfa_offset 32
 393              		.cfi_offset 3, -32
 394              		.cfi_offset 4, -28
 395              		.cfi_offset 5, -24
 396              		.cfi_offset 6, -20
 397              		.cfi_offset 7, -16
 398              		.cfi_offset 8, -12
 399              		.cfi_offset 9, -8
 400              		.cfi_offset 14, -4
1139:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 401              		.loc 1 1139 0
 402 0004 9046     		mov	r8, r2
 403 0006 9A42     		cmp	r2, r3
 404 0008 28BF     		it	cs
 405 000a 9846     		movcs	r8, r3
 406              	.LVL42:
1141:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 407              		.loc 1 1141 0
 408 000c B8F1000F 		cmp	r8, #0
 409 0010 3ED0     		beq	.L28
1143:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 410              		.loc 1 1143 0
 411 0012 0468     		ldr	r4, [r0]
 412              	.LVL43:
1148:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 413              		.loc 1 1148 0
 414 0014 8368     		ldr	r3, [r0, #8]
 415              	.LVL44:
 416 0016 1F1B     		subs	r7, r3, r4
 417 0018 4745     		cmp	r7, r8
 418 001a 28BF     		it	cs
 419 001c 4746     		movcs	r7, r8
 420              	.LVL45:
1152:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		configASSERT( ( xNextTail + xFirstLength ) <= pxStreamBuffer->xLength );
 421              		.loc 1 1152 0
 422 001e BA42     		cmp	r2, r7
 423 0020 08D2     		bcs	.L30
 424              	.LBB105:
 425              	.LBB106:
 426              		.loc 2 195 0
 427              		.syntax unified
 428              	@ 195 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h" 1
ARM GAS  /tmp/ccmX5Z0F.s 			page 34


 429 0022 4FF05003 			mov r3, #80												
 430 0026 83F31188 		msr basepri, r3											
 431 002a BFF36F8F 		isb														
 432 002e BFF34F8F 		dsb														
 433              	
 434              	@ 0 "" 2
 435              	.LVL46:
 436              		.thumb
 437              		.syntax unified
 438              	.L31:
 439 0032 FEE7     		b	.L31
 440              	.L30:
 441              	.LBE106:
 442              	.LBE105:
1153:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		( void ) memcpy( ( void * ) pucData, ( const void * ) &( pxStreamBuffer->pucBuffer[ xNextTail ] )
 443              		.loc 1 1153 0
 444 0034 E519     		adds	r5, r4, r7
 445 0036 AB42     		cmp	r3, r5
 446 0038 08D2     		bcs	.L32
 447              	.LBB107:
 448              	.LBB108:
 449              		.loc 2 195 0
 450              		.syntax unified
 451              	@ 195 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h" 1
 452 003a 4FF05003 			mov r3, #80												
 453 003e 83F31188 		msr basepri, r3											
 454 0042 BFF36F8F 		isb														
 455 0046 BFF34F8F 		dsb														
 456              	
 457              	@ 0 "" 2
 458              	.LVL47:
 459              		.thumb
 460              		.syntax unified
 461              	.L33:
 462 004a FEE7     		b	.L33
 463              	.L32:
 464 004c 9146     		mov	r9, r2
 465 004e 0E46     		mov	r6, r1
 466 0050 0546     		mov	r5, r0
 467              	.LBE108:
 468              	.LBE107:
1154:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 469              		.loc 1 1154 0
 470 0052 8169     		ldr	r1, [r0, #24]
 471              	.LVL48:
 472 0054 3A46     		mov	r2, r7
 473              	.LVL49:
 474 0056 2144     		add	r1, r1, r4
 475 0058 3046     		mov	r0, r6
 476              	.LVL50:
 477 005a FFF7FEFF 		bl	memcpy
 478              	.LVL51:
1158:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
 479              		.loc 1 1158 0
 480 005e B845     		cmp	r8, r7
 481 0060 10D9     		bls	.L34
1161:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			( void ) memcpy( ( void * ) &( pucData[ xFirstLength ] ), ( void * ) ( pxStreamBuffer->pucBuffer
ARM GAS  /tmp/ccmX5Z0F.s 			page 35


 482              		.loc 1 1161 0
 483 0062 C145     		cmp	r9, r8
 484 0064 08D2     		bcs	.L35
 485              	.LBB109:
 486              	.LBB110:
 487              		.loc 2 195 0
 488              		.syntax unified
 489              	@ 195 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h" 1
 490 0066 4FF05003 			mov r3, #80												
 491 006a 83F31188 		msr basepri, r3											
 492 006e BFF36F8F 		isb														
 493 0072 BFF34F8F 		dsb														
 494              	
 495              	@ 0 "" 2
 496              	.LVL52:
 497              		.thumb
 498              		.syntax unified
 499              	.L36:
 500 0076 FEE7     		b	.L36
 501              	.L35:
 502              	.LBE110:
 503              	.LBE109:
1162:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
 504              		.loc 1 1162 0
 505 0078 A8EB0702 		sub	r2, r8, r7
 506 007c A969     		ldr	r1, [r5, #24]
 507 007e F019     		adds	r0, r6, r7
 508 0080 FFF7FEFF 		bl	memcpy
 509              	.LVL53:
 510              	.L34:
1171:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 511              		.loc 1 1171 0
 512 0084 4444     		add	r4, r4, r8
 513              	.LVL54:
1173:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
 514              		.loc 1 1173 0
 515 0086 AB68     		ldr	r3, [r5, #8]
 516 0088 9C42     		cmp	r4, r3
 517 008a 00D3     		bcc	.L37
1175:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
 518              		.loc 1 1175 0
 519 008c E41A     		subs	r4, r4, r3
 520              	.LVL55:
 521              	.L37:
1178:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 522              		.loc 1 1178 0
 523 008e 2C60     		str	r4, [r5]
 524              	.LVL56:
 525              	.L28:
1186:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /*-----------------------------------------------------------*/
 526              		.loc 1 1186 0
 527 0090 4046     		mov	r0, r8
 528 0092 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 529              		.cfi_endproc
 530              	.LFE24:
 532              		.section	.text.prvReadMessageFromBuffer,"ax",%progbits
 533              		.align	1
ARM GAS  /tmp/ccmX5Z0F.s 			page 36


 534              		.syntax unified
 535              		.thumb
 536              		.thumb_func
 537              		.fpu fpv4-sp-d16
 539              	prvReadMessageFromBuffer:
 540              	.LFB18:
 923:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** size_t xOriginalTail, xReceivedLength, xNextMessageLength;
 541              		.loc 1 923 0
 542              		.cfi_startproc
 543              		@ args = 4, pretend = 0, frame = 8
 544              		@ frame_needed = 0, uses_anonymous_args = 0
 545              	.LVL57:
 546 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 547              	.LCFI7:
 548              		.cfi_def_cfa_offset 28
 549              		.cfi_offset 4, -28
 550              		.cfi_offset 5, -24
 551              		.cfi_offset 6, -20
 552              		.cfi_offset 7, -16
 553              		.cfi_offset 8, -12
 554              		.cfi_offset 9, -8
 555              		.cfi_offset 14, -4
 556 0004 83B0     		sub	sp, sp, #12
 557              	.LCFI8:
 558              		.cfi_def_cfa_offset 40
 559 0006 0546     		mov	r5, r0
 560 0008 8846     		mov	r8, r1
 561 000a 1646     		mov	r6, r2
 562 000c 1C46     		mov	r4, r3
 563 000e 0A9F     		ldr	r7, [sp, #40]
 927:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 564              		.loc 1 927 0
 565 0010 47B9     		cbnz	r7, .L43
 566              	.LVL58:
 567              	.L40:
 964:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 568              		.loc 1 964 0
 569 0012 2346     		mov	r3, r4
 570 0014 3246     		mov	r2, r6
 571 0016 4146     		mov	r1, r8
 572 0018 2846     		mov	r0, r5
 573 001a FFF7FEFF 		bl	prvReadBytesFromBuffer
 574              	.LVL59:
 967:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /*-----------------------------------------------------------*/
 575              		.loc 1 967 0
 576 001e 03B0     		add	sp, sp, #12
 577              	.LCFI9:
 578              		.cfi_remember_state
 579              		.cfi_def_cfa_offset 28
 580              		@ sp needed
 581 0020 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 582              	.LVL60:
 583              	.L43:
 584              	.LCFI10:
 585              		.cfi_restore_state
 933:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		( void ) prvReadBytesFromBuffer( pxStreamBuffer, ( uint8_t * ) &xTempNextMessageLength, xBytesToS
 586              		.loc 1 933 0
ARM GAS  /tmp/ccmX5Z0F.s 			page 37


 587 0024 D0F80090 		ldr	r9, [r0]
 588              	.LVL61:
 934:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		xNextMessageLength = ( size_t ) xTempNextMessageLength;
 589              		.loc 1 934 0
 590 0028 3A46     		mov	r2, r7
 591              	.LVL62:
 592 002a 01A9     		add	r1, sp, #4
 593              	.LVL63:
 594 002c FFF7FEFF 		bl	prvReadBytesFromBuffer
 595              	.LVL64:
 935:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 596              		.loc 1 935 0
 597 0030 019B     		ldr	r3, [sp, #4]
 598              	.LVL65:
 939:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 599              		.loc 1 939 0
 600 0032 E41B     		subs	r4, r4, r7
 601              	.LVL66:
 943:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
 602              		.loc 1 943 0
 603 0034 B342     		cmp	r3, r6
 604 0036 03D9     		bls	.L41
 948:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			xNextMessageLength = 0;
 605              		.loc 1 948 0
 606 0038 C5F80090 		str	r9, [r5]
 607              	.LVL67:
 949:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
 608              		.loc 1 949 0
 609 003c 0026     		movs	r6, #0
 610              	.LVL68:
 611 003e E8E7     		b	.L40
 612              	.LVL69:
 613              	.L41:
 935:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 614              		.loc 1 935 0
 615 0040 1E46     		mov	r6, r3
 616              	.LVL70:
 617 0042 E6E7     		b	.L40
 618              		.cfi_endproc
 619              	.LFE18:
 621              		.section	.text.xStreamBufferGenericCreate,"ax",%progbits
 622              		.align	1
 623              		.global	xStreamBufferGenericCreate
 624              		.syntax unified
 625              		.thumb
 626              		.thumb_func
 627              		.fpu fpv4-sp-d16
 629              	xStreamBufferGenericCreate:
 630              	.LFB5:
 220:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	uint8_t *pucAllocatedMemory;
 631              		.loc 1 220 0
 632              		.cfi_startproc
 633              		@ args = 0, pretend = 0, frame = 0
 634              		@ frame_needed = 0, uses_anonymous_args = 0
 635              	.LVL71:
 636 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 637              	.LCFI11:
ARM GAS  /tmp/ccmX5Z0F.s 			page 38


 638              		.cfi_def_cfa_offset 20
 639              		.cfi_offset 4, -20
 640              		.cfi_offset 5, -16
 641              		.cfi_offset 6, -12
 642              		.cfi_offset 7, -8
 643              		.cfi_offset 14, -4
 644 0002 83B0     		sub	sp, sp, #12
 645              	.LCFI12:
 646              		.cfi_def_cfa_offset 32
 647 0004 0C46     		mov	r4, r1
 228:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
 648              		.loc 1 228 0
 649 0006 012A     		cmp	r2, #1
 650 0008 09D0     		beq	.L57
 651              	.LVL72:
 238:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
 652              		.loc 1 238 0
 653 000a F8B9     		cbnz	r0, .L54
 654              	.LBB111:
 655              	.LBB112:
 656              		.loc 2 195 0
 657              		.syntax unified
 658              	@ 195 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h" 1
 659 000c 4FF05003 			mov r3, #80												
 660 0010 83F31188 		msr basepri, r3											
 661 0014 BFF36F8F 		isb														
 662 0018 BFF34F8F 		dsb														
 663              	
 664              	@ 0 "" 2
 665              	.LVL73:
 666              		.thumb
 667              		.syntax unified
 668              	.L48:
 669 001c FEE7     		b	.L48
 670              	.LVL74:
 671              	.L57:
 672              	.LBE112:
 673              	.LBE111:
 232:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
 674              		.loc 1 232 0
 675 001e 0428     		cmp	r0, #4
 676 0020 08D8     		bhi	.L53
 677              	.LBB113:
 678              	.LBB114:
 679              		.loc 2 195 0
 680              		.syntax unified
 681              	@ 195 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h" 1
 682 0022 4FF05003 			mov r3, #80												
 683 0026 83F31188 		msr basepri, r3											
 684 002a BFF36F8F 		isb														
 685 002e BFF34F8F 		dsb														
 686              	
 687              	@ 0 "" 2
 688              	.LVL75:
 689              		.thumb
 690              		.syntax unified
 691              	.L47:
ARM GAS  /tmp/ccmX5Z0F.s 			page 39


 692 0032 FEE7     		b	.L47
 693              	.L53:
 694              	.LBE114:
 695              	.LBE113:
 231:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			configASSERT( xBufferSizeBytes > sbBYTES_TO_STORE_MESSAGE_LENGTH );
 696              		.loc 1 231 0
 697 0034 0126     		movs	r6, #1
 698              	.LVL76:
 699              	.L46:
 240:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 700              		.loc 1 240 0
 701 0036 A042     		cmp	r0, r4
 702 0038 0AD2     		bcs	.L49
 703              	.LBB115:
 704              	.LBB116:
 705              		.loc 2 195 0
 706              		.syntax unified
 707              	@ 195 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h" 1
 708 003a 4FF05003 			mov r3, #80												
 709 003e 83F31188 		msr basepri, r3											
 710 0042 BFF36F8F 		isb														
 711 0046 BFF34F8F 		dsb														
 712              	
 713              	@ 0 "" 2
 714              	.LVL77:
 715              		.thumb
 716              		.syntax unified
 717              	.L50:
 718 004a FEE7     		b	.L50
 719              	.LVL78:
 720              	.L54:
 721              	.LBE116:
 722              	.LBE115:
 237:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			configASSERT( xBufferSizeBytes > 0 );
 723              		.loc 1 237 0
 724 004c 0026     		movs	r6, #0
 725 004e F2E7     		b	.L46
 726              	.LVL79:
 727              	.L49:
 244:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
 728              		.loc 1 244 0
 729 0050 04B9     		cbnz	r4, .L51
 246:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
 730              		.loc 1 246 0
 731 0052 0124     		movs	r4, #1
 732              	.L51:
 733              	.LVL80:
 257:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		pucAllocatedMemory = ( uint8_t * ) pvPortMalloc( xBufferSizeBytes + sizeof( StreamBuffer_t ) ); /
 734              		.loc 1 257 0
 735 0054 471C     		adds	r7, r0, #1
 736              	.LVL81:
 258:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 737              		.loc 1 258 0
 738 0056 2130     		adds	r0, r0, #33
 739 0058 FFF7FEFF 		bl	pvPortMalloc
 740              	.LVL82:
 260:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
ARM GAS  /tmp/ccmX5Z0F.s 			page 40


 741              		.loc 1 260 0
 742 005c 0546     		mov	r5, r0
 743 005e 30B1     		cbz	r0, .L52
 262:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 										   pucAllocatedMemory + sizeof( StreamBuffer_t ),  /* Storage area follows. */ /*lint !e9
 744              		.loc 1 262 0
 745 0060 0096     		str	r6, [sp]
 746 0062 2346     		mov	r3, r4
 747 0064 3A46     		mov	r2, r7
 748 0066 00F12001 		add	r1, r0, #32
 749 006a FFF7FEFF 		bl	prvInitialiseNewStreamBuffer
 750              	.LVL83:
 751              	.L52:
 276:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 752              		.loc 1 276 0
 753 006e 2846     		mov	r0, r5
 754 0070 03B0     		add	sp, sp, #12
 755              	.LCFI13:
 756              		.cfi_def_cfa_offset 20
 757              		@ sp needed
 758 0072 F0BD     		pop	{r4, r5, r6, r7, pc}
 759              		.cfi_endproc
 760              	.LFE5:
 762              		.section	.text.xStreamBufferGenericCreateStatic,"ax",%progbits
 763              		.align	1
 764              		.global	xStreamBufferGenericCreateStatic
 765              		.syntax unified
 766              		.thumb
 767              		.thumb_func
 768              		.fpu fpv4-sp-d16
 770              	xStreamBufferGenericCreateStatic:
 771              	.LFB6:
 288:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	StreamBuffer_t * const pxStreamBuffer = ( StreamBuffer_t * ) pxStaticStreamBuffer; /*lint !e740 !e
 772              		.loc 1 288 0
 773              		.cfi_startproc
 774              		@ args = 4, pretend = 0, frame = 8
 775              		@ frame_needed = 0, uses_anonymous_args = 0
 776              	.LVL84:
 777 0000 30B5     		push	{r4, r5, lr}
 778              	.LCFI14:
 779              		.cfi_def_cfa_offset 12
 780              		.cfi_offset 4, -12
 781              		.cfi_offset 5, -8
 782              		.cfi_offset 14, -4
 783 0002 85B0     		sub	sp, sp, #20
 784              	.LCFI15:
 785              		.cfi_def_cfa_offset 32
 786 0004 089C     		ldr	r4, [sp, #32]
 787              	.LVL85:
 293:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		configASSERT( pxStaticStreamBuffer );
 788              		.loc 1 293 0
 789 0006 63B1     		cbz	r3, .L74
 790 0008 1D46     		mov	r5, r3
 294:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		configASSERT( xTriggerLevelBytes <= xBufferSizeBytes );
 791              		.loc 1 294 0
 792 000a 9CB1     		cbz	r4, .L75
 295:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 793              		.loc 1 295 0
ARM GAS  /tmp/ccmX5Z0F.s 			page 41


 794 000c 8142     		cmp	r1, r0
 795 000e 1AD9     		bls	.L63
 796              	.LBB117:
 797              	.LBB118:
 798              		.loc 2 195 0
 799              		.syntax unified
 800              	@ 195 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h" 1
 801 0010 4FF05003 			mov r3, #80												
 802 0014 83F31188 		msr basepri, r3											
 803 0018 BFF36F8F 		isb														
 804 001c BFF34F8F 		dsb														
 805              	
 806              	@ 0 "" 2
 807              	.LVL86:
 808              		.thumb
 809              		.syntax unified
 810              	.L64:
 811 0020 FEE7     		b	.L64
 812              	.LVL87:
 813              	.L74:
 814              	.LBE118:
 815              	.LBE117:
 816              	.LBB119:
 817              	.LBB120:
 818              		.syntax unified
 819              	@ 195 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h" 1
 820 0022 4FF05003 			mov r3, #80												
 821 0026 83F31188 		msr basepri, r3											
 822 002a BFF36F8F 		isb														
 823 002e BFF34F8F 		dsb														
 824              	
 825              	@ 0 "" 2
 826              	.LVL88:
 827              		.thumb
 828              		.syntax unified
 829              	.L60:
 830 0032 FEE7     		b	.L60
 831              	.LVL89:
 832              	.L75:
 833              	.LBE120:
 834              	.LBE119:
 835              	.LBB121:
 836              	.LBB122:
 837              		.syntax unified
 838              	@ 195 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h" 1
 839 0034 4FF05003 			mov r3, #80												
 840 0038 83F31188 		msr basepri, r3											
 841 003c BFF36F8F 		isb														
 842 0040 BFF34F8F 		dsb														
 843              	
 844              	@ 0 "" 2
 845              	.LVL90:
 846              		.thumb
 847              		.syntax unified
 848              	.L62:
 849 0044 FEE7     		b	.L62
 850              	.LVL91:
ARM GAS  /tmp/ccmX5Z0F.s 			page 42


 851              	.L63:
 852              	.LBE122:
 853              	.LBE121:
 299:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
 854              		.loc 1 299 0
 855 0046 01B9     		cbnz	r1, .L65
 301:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
 856              		.loc 1 301 0
 857 0048 0121     		movs	r1, #1
 858              	.LVL92:
 859              	.L65:
 304:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
 860              		.loc 1 304 0
 861 004a 5AB1     		cbz	r2, .L72
 307:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
 862              		.loc 1 307 0
 863 004c 0323     		movs	r3, #3
 864              	.LVL93:
 865              	.L66:
 319:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 866              		.loc 1 319 0
 867 004e 0428     		cmp	r0, #4
 868 0050 0AD8     		bhi	.L67
 869              	.LBB123:
 870              	.LBB124:
 871              		.loc 2 195 0
 872              		.syntax unified
 873              	@ 195 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h" 1
 874 0052 4FF05003 			mov r3, #80												
 875 0056 83F31188 		msr basepri, r3											
 876 005a BFF36F8F 		isb														
 877 005e BFF34F8F 		dsb														
 878              	
 879              	@ 0 "" 2
 880              	.LVL94:
 881              		.thumb
 882              		.syntax unified
 883              	.L68:
 884 0062 FEE7     		b	.L68
 885              	.LVL95:
 886              	.L72:
 887              	.LBE124:
 888              	.LBE123:
 312:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
 889              		.loc 1 312 0
 890 0064 0223     		movs	r3, #2
 891              	.LVL96:
 892 0066 F2E7     		b	.L66
 893              	.LVL97:
 894              	.L67:
 895              	.LBB125:
 326:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			configASSERT( xSize == sizeof( StreamBuffer_t ) );
 896              		.loc 1 326 0
 897 0068 2022     		movs	r2, #32
 898              	.LVL98:
 899 006a 0392     		str	r2, [sp, #12]
 327:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		} /*lint !e529 xSize is referenced is configASSERT() is defined. */
ARM GAS  /tmp/ccmX5Z0F.s 			page 43


 900              		.loc 1 327 0
 901 006c 039A     		ldr	r2, [sp, #12]
 902 006e 202A     		cmp	r2, #32
 903 0070 08D0     		beq	.L69
 904              	.LBB126:
 905              	.LBB127:
 906              		.loc 2 195 0
 907              		.syntax unified
 908              	@ 195 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h" 1
 909 0072 4FF05003 			mov r3, #80												
 910 0076 83F31188 		msr basepri, r3											
 911 007a BFF36F8F 		isb														
 912 007e BFF34F8F 		dsb														
 913              	
 914              	@ 0 "" 2
 915              	.LVL99:
 916              		.thumb
 917              		.syntax unified
 918              	.L70:
 919 0082 FEE7     		b	.L70
 920              	.LVL100:
 921              	.L69:
 922              	.LBE127:
 923              	.LBE126:
 924              	.LBE125:
 333:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 										  pucStreamBufferStorageArea,
 925              		.loc 1 333 0
 926 0084 0093     		str	r3, [sp]
 927 0086 0B46     		mov	r3, r1
 928              	.LVL101:
 929 0088 0246     		mov	r2, r0
 930 008a 2946     		mov	r1, r5
 931              	.LVL102:
 932 008c 2046     		mov	r0, r4
 933              	.LVL103:
 934 008e FFF7FEFF 		bl	prvInitialiseNewStreamBuffer
 935              	.LVL104:
 341:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 936              		.loc 1 341 0
 937 0092 237F     		ldrb	r3, [r4, #28]	@ zero_extendqisi2
 938 0094 43F00203 		orr	r3, r3, #2
 939 0098 2377     		strb	r3, [r4, #28]
 940              	.LVL105:
 354:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 941              		.loc 1 354 0
 942 009a 2046     		mov	r0, r4
 943 009c 05B0     		add	sp, sp, #20
 944              	.LCFI16:
 945              		.cfi_def_cfa_offset 12
 946              		@ sp needed
 947 009e 30BD     		pop	{r4, r5, pc}
 948              		.cfi_endproc
 949              	.LFE6:
 951              		.section	.text.vStreamBufferDelete,"ax",%progbits
 952              		.align	1
 953              		.global	vStreamBufferDelete
 954              		.syntax unified
ARM GAS  /tmp/ccmX5Z0F.s 			page 44


 955              		.thumb
 956              		.thumb_func
 957              		.fpu fpv4-sp-d16
 959              	vStreamBufferDelete:
 960              	.LFB7:
 360:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** StreamBuffer_t * pxStreamBuffer = xStreamBuffer;
 961              		.loc 1 360 0
 962              		.cfi_startproc
 963              		@ args = 0, pretend = 0, frame = 0
 964              		@ frame_needed = 0, uses_anonymous_args = 0
 965              	.LVL106:
 966 0000 08B5     		push	{r3, lr}
 967              	.LCFI17:
 968              		.cfi_def_cfa_offset 8
 969              		.cfi_offset 3, -8
 970              		.cfi_offset 14, -4
 971              	.LVL107:
 363:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 972              		.loc 1 363 0
 973 0002 40B1     		cbz	r0, .L82
 367:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 974              		.loc 1 367 0
 975 0004 037F     		ldrb	r3, [r0, #28]	@ zero_extendqisi2
 976 0006 13F0020F 		tst	r3, #2
 977 000a 0DD0     		beq	.L83
 387:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 978              		.loc 1 387 0
 979 000c 2022     		movs	r2, #32
 980 000e 0021     		movs	r1, #0
 981 0010 FFF7FEFF 		bl	memset
 982              	.LVL108:
 983 0014 08BD     		pop	{r3, pc}
 984              	.LVL109:
 985              	.L82:
 986              	.LBB128:
 987              	.LBB129:
 988              		.loc 2 195 0
 989              		.syntax unified
 990              	@ 195 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h" 1
 991 0016 4FF05003 			mov r3, #80												
 992 001a 83F31188 		msr basepri, r3											
 993 001e BFF36F8F 		isb														
 994 0022 BFF34F8F 		dsb														
 995              	
 996              	@ 0 "" 2
 997              	.LVL110:
 998              		.thumb
 999              		.syntax unified
 1000              	.L78:
 1001 0026 FEE7     		b	.L78
 1002              	.L83:
 1003              	.LBE129:
 1004              	.LBE128:
 373:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
 1005              		.loc 1 373 0
 1006 0028 FFF7FEFF 		bl	vPortFree
 1007              	.LVL111:
ARM GAS  /tmp/ccmX5Z0F.s 			page 45


 1008 002c 08BD     		pop	{r3, pc}
 1009              		.cfi_endproc
 1010              	.LFE7:
 1012              		.section	.text.xStreamBufferReset,"ax",%progbits
 1013              		.align	1
 1014              		.global	xStreamBufferReset
 1015              		.syntax unified
 1016              		.thumb
 1017              		.thumb_func
 1018              		.fpu fpv4-sp-d16
 1020              	xStreamBufferReset:
 1021              	.LFB8:
 393:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** StreamBuffer_t * const pxStreamBuffer = xStreamBuffer;
 1022              		.loc 1 393 0
 1023              		.cfi_startproc
 1024              		@ args = 0, pretend = 0, frame = 0
 1025              		@ frame_needed = 0, uses_anonymous_args = 0
 1026              	.LVL112:
 401:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 1027              		.loc 1 401 0
 1028 0000 60B1     		cbz	r0, .L92
 393:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** StreamBuffer_t * const pxStreamBuffer = xStreamBuffer;
 1029              		.loc 1 393 0
 1030 0002 10B5     		push	{r4, lr}
 1031              	.LCFI18:
 1032              		.cfi_def_cfa_offset 8
 1033              		.cfi_offset 4, -8
 1034              		.cfi_offset 14, -4
 1035 0004 82B0     		sub	sp, sp, #8
 1036              	.LCFI19:
 1037              		.cfi_def_cfa_offset 16
 1038 0006 0446     		mov	r4, r0
 412:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 1039              		.loc 1 412 0
 1040 0008 FFF7FEFF 		bl	vPortEnterCritical
 1041              	.LVL113:
 414:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
 1042              		.loc 1 414 0
 1043 000c 2369     		ldr	r3, [r4, #16]
 1044 000e 73B1     		cbz	r3, .L93
 395:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 1045              		.loc 1 395 0
 1046 0010 0024     		movs	r4, #0
 1047              	.LVL114:
 1048              	.L87:
 435:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 1049              		.loc 1 435 0
 1050 0012 FFF7FEFF 		bl	vPortExitCritical
 1051              	.LVL115:
 438:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /*-----------------------------------------------------------*/
 1052              		.loc 1 438 0
 1053 0016 2046     		mov	r0, r4
 1054 0018 02B0     		add	sp, sp, #8
 1055              	.LCFI20:
 1056              		.cfi_def_cfa_offset 8
 1057              		@ sp needed
 1058 001a 10BD     		pop	{r4, pc}
ARM GAS  /tmp/ccmX5Z0F.s 			page 46


 1059              	.LVL116:
 1060              	.L92:
 1061              	.LCFI21:
 1062              		.cfi_def_cfa_offset 0
 1063              		.cfi_restore 4
 1064              		.cfi_restore 14
 1065              	.LBB130:
 1066              	.LBB131:
 1067              		.loc 2 195 0
 1068              		.syntax unified
 1069              	@ 195 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h" 1
 1070 001c 4FF05003 			mov r3, #80												
 1071 0020 83F31188 		msr basepri, r3											
 1072 0024 BFF36F8F 		isb														
 1073 0028 BFF34F8F 		dsb														
 1074              	
 1075              	@ 0 "" 2
 1076              	.LVL117:
 1077              		.thumb
 1078              		.syntax unified
 1079              	.L86:
 1080 002c FEE7     		b	.L86
 1081              	.LVL118:
 1082              	.L93:
 1083              	.LCFI22:
 1084              		.cfi_def_cfa_offset 16
 1085              		.cfi_offset 4, -8
 1086              		.cfi_offset 14, -4
 1087              	.LBE131:
 1088              	.LBE130:
 416:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			{
 1089              		.loc 1 416 0
 1090 002e 6369     		ldr	r3, [r4, #20]
 1091 0030 0BB1     		cbz	r3, .L94
 395:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 1092              		.loc 1 395 0
 1093 0032 0024     		movs	r4, #0
 1094              	.LVL119:
 1095 0034 EDE7     		b	.L87
 1096              	.LVL120:
 1097              	.L94:
 418:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 											  pxStreamBuffer->pucBuffer,
 1098              		.loc 1 418 0
 1099 0036 E368     		ldr	r3, [r4, #12]
 1100 0038 A268     		ldr	r2, [r4, #8]
 1101 003a A169     		ldr	r1, [r4, #24]
 1102 003c 207F     		ldrb	r0, [r4, #28]	@ zero_extendqisi2
 1103 003e 0090     		str	r0, [sp]
 1104 0040 2046     		mov	r0, r4
 1105 0042 FFF7FEFF 		bl	prvInitialiseNewStreamBuffer
 1106              	.LVL121:
 423:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 1107              		.loc 1 423 0
 1108 0046 0124     		movs	r4, #1
 1109              	.LVL122:
 1110 0048 E3E7     		b	.L87
 1111              		.cfi_endproc
ARM GAS  /tmp/ccmX5Z0F.s 			page 47


 1112              	.LFE8:
 1114              		.section	.text.xStreamBufferSetTriggerLevel,"ax",%progbits
 1115              		.align	1
 1116              		.global	xStreamBufferSetTriggerLevel
 1117              		.syntax unified
 1118              		.thumb
 1119              		.thumb_func
 1120              		.fpu fpv4-sp-d16
 1122              	xStreamBufferSetTriggerLevel:
 1123              	.LFB9:
 442:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** StreamBuffer_t * const pxStreamBuffer = xStreamBuffer;
 1124              		.loc 1 442 0
 1125              		.cfi_startproc
 1126              		@ args = 0, pretend = 0, frame = 0
 1127              		@ frame_needed = 0, uses_anonymous_args = 0
 1128              		@ link register save eliminated.
 1129              	.LVL123:
 446:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 1130              		.loc 1 446 0
 1131 0000 0346     		mov	r3, r0
 1132 0002 38B1     		cbz	r0, .L102
 449:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 1133              		.loc 1 449 0
 1134 0004 01B9     		cbnz	r1, .L98
 451:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 1135              		.loc 1 451 0
 1136 0006 0121     		movs	r1, #1
 1137              	.LVL124:
 1138              	.L98:
 456:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 1139              		.loc 1 456 0
 1140 0008 9A68     		ldr	r2, [r3, #8]
 1141 000a 9142     		cmp	r1, r2
 1142 000c 0BD8     		bhi	.L101
 458:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		xReturn = pdPASS;
 1143              		.loc 1 458 0
 1144 000e D960     		str	r1, [r3, #12]
 1145              	.LVL125:
 459:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 1146              		.loc 1 459 0
 1147 0010 0120     		movs	r0, #1
 1148              	.LVL126:
 1149 0012 7047     		bx	lr
 1150              	.LVL127:
 1151              	.L102:
 1152              	.LBB132:
 1153              	.LBB133:
 1154              		.loc 2 195 0
 1155              		.syntax unified
 1156              	@ 195 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h" 1
 1157 0014 4FF05003 			mov r3, #80												
 1158 0018 83F31188 		msr basepri, r3											
 1159 001c BFF36F8F 		isb														
 1160 0020 BFF34F8F 		dsb														
 1161              	
 1162              	@ 0 "" 2
 1163              	.LVL128:
ARM GAS  /tmp/ccmX5Z0F.s 			page 48


 1164              		.thumb
 1165              		.syntax unified
 1166              	.L97:
 1167 0024 FEE7     		b	.L97
 1168              	.L101:
 1169              	.LBE133:
 1170              	.LBE132:
 463:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 1171              		.loc 1 463 0
 1172 0026 0020     		movs	r0, #0
 1173              	.LVL129:
 467:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /*-----------------------------------------------------------*/
 1174              		.loc 1 467 0
 1175 0028 7047     		bx	lr
 1176              		.cfi_endproc
 1177              	.LFE9:
 1179              		.section	.text.xStreamBufferSpacesAvailable,"ax",%progbits
 1180              		.align	1
 1181              		.global	xStreamBufferSpacesAvailable
 1182              		.syntax unified
 1183              		.thumb
 1184              		.thumb_func
 1185              		.fpu fpv4-sp-d16
 1187              	xStreamBufferSpacesAvailable:
 1188              	.LFB10:
 471:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** const StreamBuffer_t * const pxStreamBuffer = xStreamBuffer;
 1189              		.loc 1 471 0
 1190              		.cfi_startproc
 1191              		@ args = 0, pretend = 0, frame = 0
 1192              		@ frame_needed = 0, uses_anonymous_args = 0
 1193              		@ link register save eliminated.
 1194              	.LVL130:
 475:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 1195              		.loc 1 475 0
 1196 0000 0246     		mov	r2, r0
 1197 0002 48B1     		cbz	r0, .L107
 477:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	xSpace -= pxStreamBuffer->xHead;
 1198              		.loc 1 477 0
 1199 0004 8368     		ldr	r3, [r0, #8]
 1200 0006 0068     		ldr	r0, [r0]
 1201              	.LVL131:
 1202 0008 1844     		add	r0, r0, r3
 1203              	.LVL132:
 478:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	xSpace -= ( size_t ) 1;
 1204              		.loc 1 478 0
 1205 000a 5268     		ldr	r2, [r2, #4]
 1206              	.LVL133:
 1207 000c 801A     		subs	r0, r0, r2
 1208              	.LVL134:
 479:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 1209              		.loc 1 479 0
 1210 000e 0138     		subs	r0, r0, #1
 1211              	.LVL135:
 481:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 1212              		.loc 1 481 0
 1213 0010 8342     		cmp	r3, r0
 1214 0012 00D8     		bhi	.L103
ARM GAS  /tmp/ccmX5Z0F.s 			page 49


 483:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 1215              		.loc 1 483 0
 1216 0014 C01A     		subs	r0, r0, r3
 1217              	.LVL136:
 1218              	.L103:
 491:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /*-----------------------------------------------------------*/
 1219              		.loc 1 491 0
 1220 0016 7047     		bx	lr
 1221              	.LVL137:
 1222              	.L107:
 1223              	.LBB134:
 1224              	.LBB135:
 1225              		.loc 2 195 0
 1226              		.syntax unified
 1227              	@ 195 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h" 1
 1228 0018 4FF05003 			mov r3, #80												
 1229 001c 83F31188 		msr basepri, r3											
 1230 0020 BFF36F8F 		isb														
 1231 0024 BFF34F8F 		dsb														
 1232              	
 1233              	@ 0 "" 2
 1234              	.LVL138:
 1235              		.thumb
 1236              		.syntax unified
 1237              	.L105:
 1238 0028 FEE7     		b	.L105
 1239              	.LBE135:
 1240              	.LBE134:
 1241              		.cfi_endproc
 1242              	.LFE10:
 1244              		.section	.text.xStreamBufferBytesAvailable,"ax",%progbits
 1245              		.align	1
 1246              		.global	xStreamBufferBytesAvailable
 1247              		.syntax unified
 1248              		.thumb
 1249              		.thumb_func
 1250              		.fpu fpv4-sp-d16
 1252              	xStreamBufferBytesAvailable:
 1253              	.LFB11:
 495:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** const StreamBuffer_t * const pxStreamBuffer = xStreamBuffer;
 1254              		.loc 1 495 0
 1255              		.cfi_startproc
 1256              		@ args = 0, pretend = 0, frame = 0
 1257              		@ frame_needed = 0, uses_anonymous_args = 0
 1258              	.LVL139:
 1259 0000 08B5     		push	{r3, lr}
 1260              	.LCFI23:
 1261              		.cfi_def_cfa_offset 8
 1262              		.cfi_offset 3, -8
 1263              		.cfi_offset 14, -4
 1264              	.LVL140:
 499:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 1265              		.loc 1 499 0
 1266 0002 40B9     		cbnz	r0, .L109
 1267              	.LBB136:
 1268              	.LBB137:
 1269              		.loc 2 195 0
ARM GAS  /tmp/ccmX5Z0F.s 			page 50


 1270              		.syntax unified
 1271              	@ 195 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h" 1
 1272 0004 4FF05003 			mov r3, #80												
 1273 0008 83F31188 		msr basepri, r3											
 1274 000c BFF36F8F 		isb														
 1275 0010 BFF34F8F 		dsb														
 1276              	
 1277              	@ 0 "" 2
 1278              	.LVL141:
 1279              		.thumb
 1280              		.syntax unified
 1281              	.L110:
 1282 0014 FEE7     		b	.L110
 1283              	.L109:
 1284              	.LBE137:
 1285              	.LBE136:
 501:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	return xReturn;
 1286              		.loc 1 501 0
 1287 0016 FFF7FEFF 		bl	prvBytesInBuffer
 1288              	.LVL142:
 503:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /*-----------------------------------------------------------*/
 1289              		.loc 1 503 0
 1290 001a 08BD     		pop	{r3, pc}
 1291              		.cfi_endproc
 1292              	.LFE11:
 1294              		.section	.text.xStreamBufferSend,"ax",%progbits
 1295              		.align	1
 1296              		.global	xStreamBufferSend
 1297              		.syntax unified
 1298              		.thumb
 1299              		.thumb_func
 1300              		.fpu fpv4-sp-d16
 1302              	xStreamBufferSend:
 1303              	.LFB12:
 510:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** StreamBuffer_t * const pxStreamBuffer = xStreamBuffer;
 1304              		.loc 1 510 0
 1305              		.cfi_startproc
 1306              		@ args = 0, pretend = 0, frame = 16
 1307              		@ frame_needed = 0, uses_anonymous_args = 0
 1308              	.LVL143:
 1309 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 1310              	.LCFI24:
 1311              		.cfi_def_cfa_offset 28
 1312              		.cfi_offset 4, -28
 1313              		.cfi_offset 5, -24
 1314              		.cfi_offset 6, -20
 1315              		.cfi_offset 7, -16
 1316              		.cfi_offset 8, -12
 1317              		.cfi_offset 9, -8
 1318              		.cfi_offset 14, -4
 1319 0004 87B0     		sub	sp, sp, #28
 1320              	.LCFI25:
 1321              		.cfi_def_cfa_offset 56
 1322 0006 0393     		str	r3, [sp, #12]
 1323              	.LVL144:
 516:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	configASSERT( pxStreamBuffer );
 1324              		.loc 1 516 0
ARM GAS  /tmp/ccmX5Z0F.s 			page 51


 1325 0008 89B1     		cbz	r1, .L130
 1326 000a 8846     		mov	r8, r1
 517:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 1327              		.loc 1 517 0
 1328 000c C0B1     		cbz	r0, .L131
 523:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 1329              		.loc 1 523 0
 1330 000e 037F     		ldrb	r3, [r0, #28]	@ zero_extendqisi2
 1331              	.LVL145:
 1332 0010 13F0010F 		tst	r3, #1
 1333 0014 1DD0     		beq	.L127
 525:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 1334              		.loc 1 525 0
 1335 0016 171D     		adds	r7, r2, #4
 1336              	.LVL146:
 528:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 1337              		.loc 1 528 0
 1338 0018 BA42     		cmp	r2, r7
 1339 001a 1BD3     		bcc	.L117
 1340              	.LBB138:
 1341              	.LBB139:
 1342              		.loc 2 195 0
 1343              		.syntax unified
 1344              	@ 195 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h" 1
 1345 001c 4FF05003 			mov r3, #80												
 1346 0020 83F31188 		msr basepri, r3											
 1347 0024 BFF36F8F 		isb														
 1348 0028 BFF34F8F 		dsb														
 1349              	
 1350              	@ 0 "" 2
 1351              	.LVL147:
 1352              		.thumb
 1353              		.syntax unified
 1354              	.L118:
 1355 002c FEE7     		b	.L118
 1356              	.LVL148:
 1357              	.L130:
 1358              	.LBE139:
 1359              	.LBE138:
 1360              	.LBB140:
 1361              	.LBB141:
 1362              		.syntax unified
 1363              	@ 195 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h" 1
 1364 002e 4FF05003 			mov r3, #80												
 1365 0032 83F31188 		msr basepri, r3											
 1366 0036 BFF36F8F 		isb														
 1367 003a BFF34F8F 		dsb														
 1368              	
 1369              	@ 0 "" 2
 1370              	.LVL149:
 1371              		.thumb
 1372              		.syntax unified
 1373              	.L114:
 1374 003e FEE7     		b	.L114
 1375              	.LVL150:
 1376              	.L131:
 1377              	.LBE141:
ARM GAS  /tmp/ccmX5Z0F.s 			page 52


 1378              	.LBE140:
 1379              	.LBB142:
 1380              	.LBB143:
 1381              		.syntax unified
 1382              	@ 195 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h" 1
 1383 0040 4FF05003 			mov r3, #80												
 1384 0044 83F31188 		msr basepri, r3											
 1385 0048 BFF36F8F 		isb														
 1386 004c BFF34F8F 		dsb														
 1387              	
 1388              	@ 0 "" 2
 1389              	.LVL151:
 1390              		.thumb
 1391              		.syntax unified
 1392              	.L116:
 1393 0050 FEE7     		b	.L116
 1394              	.L127:
 1395              	.LBE143:
 1396              	.LBE142:
 513:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** TimeOut_t xTimeOut;
 1397              		.loc 1 513 0
 1398 0052 1746     		mov	r7, r2
 1399              	.LVL152:
 1400              	.L117:
 1401 0054 1646     		mov	r6, r2
 1402 0056 0446     		mov	r4, r0
 535:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 1403              		.loc 1 535 0
 1404 0058 039B     		ldr	r3, [sp, #12]
 1405 005a 83B9     		cbnz	r3, .L132
 512:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** size_t xRequiredSpace = xDataLengthBytes;
 1406              		.loc 1 512 0
 1407 005c 0025     		movs	r5, #0
 1408              	.LVL153:
 1409              	.L119:
 575:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 1410              		.loc 1 575 0
 1411 005e 002D     		cmp	r5, #0
 1412 0060 40D0     		beq	.L133
 1413              	.L124:
 584:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 1414              		.loc 1 584 0
 1415 0062 0097     		str	r7, [sp]
 1416 0064 2B46     		mov	r3, r5
 1417 0066 3246     		mov	r2, r6
 1418 0068 4146     		mov	r1, r8
 1419 006a 2046     		mov	r0, r4
 1420 006c FFF7FEFF 		bl	prvWriteMessageToBuffer
 1421              	.LVL154:
 586:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 1422              		.loc 1 586 0
 1423 0070 0546     		mov	r5, r0
 1424              	.LVL155:
 1425 0072 0028     		cmp	r0, #0
 1426 0074 3BD1     		bne	.L134
 1427              	.LVL156:
 1428              	.L112:
ARM GAS  /tmp/ccmX5Z0F.s 			page 53


 607:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /*-----------------------------------------------------------*/
 1429              		.loc 1 607 0
 1430 0076 2846     		mov	r0, r5
 1431 0078 07B0     		add	sp, sp, #28
 1432              	.LCFI26:
 1433              		.cfi_remember_state
 1434              		.cfi_def_cfa_offset 28
 1435              		@ sp needed
 1436 007a BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 1437              	.LVL157:
 1438              	.L132:
 1439              	.LCFI27:
 1440              		.cfi_restore_state
 537:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 1441              		.loc 1 537 0
 1442 007e 04A8     		add	r0, sp, #16
 1443              	.LVL158:
 1444 0080 FFF7FEFF 		bl	vTaskSetTimeOutState
 1445              	.LVL159:
 1446              	.L123:
 543:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			{
 1447              		.loc 1 543 0
 1448 0084 FFF7FEFF 		bl	vPortEnterCritical
 1449              	.LVL160:
 545:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 1450              		.loc 1 545 0
 1451 0088 2046     		mov	r0, r4
 1452 008a FFF7FEFF 		bl	xStreamBufferSpacesAvailable
 1453              	.LVL161:
 1454 008e 0546     		mov	r5, r0
 1455              	.LVL162:
 547:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 				{
 1456              		.loc 1 547 0
 1457 0090 8742     		cmp	r7, r0
 1458 0092 24D9     		bls	.L120
 550:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 1459              		.loc 1 550 0
 1460 0094 0020     		movs	r0, #0
 1461              	.LVL163:
 1462 0096 FFF7FEFF 		bl	xTaskNotifyStateClear
 1463              	.LVL164:
 553:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 					pxStreamBuffer->xTaskWaitingToSend = xTaskGetCurrentTaskHandle();
 1464              		.loc 1 553 0
 1465 009a 6369     		ldr	r3, [r4, #20]
 1466 009c B3B9     		cbnz	r3, .L135
 554:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 				}
 1467              		.loc 1 554 0
 1468 009e FFF7FEFF 		bl	xTaskGetCurrentTaskHandle
 1469              	.LVL165:
 1470 00a2 6061     		str	r0, [r4, #20]
 562:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 1471              		.loc 1 562 0
 1472 00a4 FFF7FEFF 		bl	vPortExitCritical
 1473              	.LVL166:
 565:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			pxStreamBuffer->xTaskWaitingToSend = NULL;
 1474              		.loc 1 565 0
 1475 00a8 0DF11809 		add	r9, sp, #24
ARM GAS  /tmp/ccmX5Z0F.s 			page 54


 1476 00ac 59F80C3D 		ldr	r3, [r9, #-12]!
 1477 00b0 0022     		movs	r2, #0
 1478 00b2 1146     		mov	r1, r2
 1479 00b4 1046     		mov	r0, r2
 1480 00b6 FFF7FEFF 		bl	xTaskNotifyWait
 1481              	.LVL167:
 566:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 1482              		.loc 1 566 0
 1483 00ba 0023     		movs	r3, #0
 1484 00bc 6361     		str	r3, [r4, #20]
 568:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 1485              		.loc 1 568 0
 1486 00be 4946     		mov	r1, r9
 1487 00c0 04A8     		add	r0, sp, #16
 1488 00c2 FFF7FEFF 		bl	xTaskCheckForTimeOut
 1489              	.LVL168:
 1490 00c6 0028     		cmp	r0, #0
 1491 00c8 DCD0     		beq	.L123
 1492 00ca C8E7     		b	.L119
 1493              	.L135:
 1494              	.LBB144:
 1495              	.LBB145:
 1496              		.loc 2 195 0
 1497              		.syntax unified
 1498              	@ 195 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h" 1
 1499 00cc 4FF05003 			mov r3, #80												
 1500 00d0 83F31188 		msr basepri, r3											
 1501 00d4 BFF36F8F 		isb														
 1502 00d8 BFF34F8F 		dsb														
 1503              	
 1504              	@ 0 "" 2
 1505              	.LVL169:
 1506              		.thumb
 1507              		.syntax unified
 1508              	.L122:
 1509 00dc FEE7     		b	.L122
 1510              	.LVL170:
 1511              	.L120:
 1512              	.LBE145:
 1513              	.LBE144:
 558:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 					break;
 1514              		.loc 1 558 0
 1515 00de FFF7FEFF 		bl	vPortExitCritical
 1516              	.LVL171:
 559:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 				}
 1517              		.loc 1 559 0
 1518 00e2 BCE7     		b	.L119
 1519              	.L133:
 577:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 1520              		.loc 1 577 0
 1521 00e4 2046     		mov	r0, r4
 1522 00e6 FFF7FEFF 		bl	xStreamBufferSpacesAvailable
 1523              	.LVL172:
 1524 00ea 0546     		mov	r5, r0
 1525              	.LVL173:
 1526 00ec B9E7     		b	.L124
 1527              	.LVL174:
ARM GAS  /tmp/ccmX5Z0F.s 			page 55


 1528              	.L134:
 591:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
 1529              		.loc 1 591 0
 1530 00ee 2046     		mov	r0, r4
 1531              	.LVL175:
 1532 00f0 FFF7FEFF 		bl	prvBytesInBuffer
 1533              	.LVL176:
 1534 00f4 E368     		ldr	r3, [r4, #12]
 1535 00f6 9842     		cmp	r0, r3
 1536 00f8 BDD3     		bcc	.L112
 593:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
 1537              		.loc 1 593 0
 1538 00fa FFF7FEFF 		bl	vTaskSuspendAll
 1539              	.LVL177:
 1540 00fe 2369     		ldr	r3, [r4, #16]
 1541 0100 3BB1     		cbz	r3, .L126
 593:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
 1542              		.loc 1 593 0 is_stmt 0 discriminator 1
 1543 0102 2069     		ldr	r0, [r4, #16]
 1544 0104 0023     		movs	r3, #0
 1545 0106 1A46     		mov	r2, r3
 1546 0108 1946     		mov	r1, r3
 1547 010a FFF7FEFF 		bl	xTaskGenericNotify
 1548              	.LVL178:
 1549 010e 0023     		movs	r3, #0
 1550 0110 2361     		str	r3, [r4, #16]
 1551              	.L126:
 593:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
 1552              		.loc 1 593 0 discriminator 3
 1553 0112 FFF7FEFF 		bl	xTaskResumeAll
 1554              	.LVL179:
 606:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** }
 1555              		.loc 1 606 0 is_stmt 1 discriminator 3
 1556 0116 AEE7     		b	.L112
 1557              		.cfi_endproc
 1558              	.LFE12:
 1560              		.section	.text.xStreamBufferSendFromISR,"ax",%progbits
 1561              		.align	1
 1562              		.global	xStreamBufferSendFromISR
 1563              		.syntax unified
 1564              		.thumb
 1565              		.thumb_func
 1566              		.fpu fpv4-sp-d16
 1568              	xStreamBufferSendFromISR:
 1569              	.LFB13:
 614:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** StreamBuffer_t * const pxStreamBuffer = xStreamBuffer;
 1570              		.loc 1 614 0
 1571              		.cfi_startproc
 1572              		@ args = 0, pretend = 0, frame = 0
 1573              		@ frame_needed = 0, uses_anonymous_args = 0
 1574              	.LVL180:
 619:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	configASSERT( pxStreamBuffer );
 1575              		.loc 1 619 0
 1576 0000 59B1     		cbz	r1, .L147
 614:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** StreamBuffer_t * const pxStreamBuffer = xStreamBuffer;
 1577              		.loc 1 614 0
 1578 0002 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
ARM GAS  /tmp/ccmX5Z0F.s 			page 56


 1579              	.LCFI28:
 1580              		.cfi_def_cfa_offset 24
 1581              		.cfi_offset 4, -24
 1582              		.cfi_offset 5, -20
 1583              		.cfi_offset 6, -16
 1584              		.cfi_offset 7, -12
 1585              		.cfi_offset 8, -8
 1586              		.cfi_offset 14, -4
 1587 0006 82B0     		sub	sp, sp, #8
 1588              	.LCFI29:
 1589              		.cfi_def_cfa_offset 32
 1590 0008 0E46     		mov	r6, r1
 620:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 1591              		.loc 1 620 0
 1592 000a 78B1     		cbz	r0, .L148
 626:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 1593              		.loc 1 626 0
 1594 000c 017F     		ldrb	r1, [r0, #28]	@ zero_extendqisi2
 1595              	.LVL181:
 1596 000e 11F0010F 		tst	r1, #1
 1597 0012 14D0     		beq	.L144
 628:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 1598              		.loc 1 628 0
 1599 0014 02F10408 		add	r8, r2, #4
 1600              	.LVL182:
 1601 0018 12E0     		b	.L141
 1602              	.LVL183:
 1603              	.L147:
 1604              	.LCFI30:
 1605              		.cfi_def_cfa_offset 0
 1606              		.cfi_restore 4
 1607              		.cfi_restore 5
 1608              		.cfi_restore 6
 1609              		.cfi_restore 7
 1610              		.cfi_restore 8
 1611              		.cfi_restore 14
 1612              	.LBB146:
 1613              	.LBB147:
 1614              		.loc 2 195 0
 1615              		.syntax unified
 1616              	@ 195 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h" 1
 1617 001a 4FF05003 			mov r3, #80												
 1618 001e 83F31188 		msr basepri, r3											
 1619 0022 BFF36F8F 		isb														
 1620 0026 BFF34F8F 		dsb														
 1621              	
 1622              	@ 0 "" 2
 1623              	.LVL184:
 1624              		.thumb
 1625              		.syntax unified
 1626              	.L138:
 1627 002a FEE7     		b	.L138
 1628              	.LVL185:
 1629              	.L148:
 1630              	.LCFI31:
 1631              		.cfi_def_cfa_offset 32
 1632              		.cfi_offset 4, -24
ARM GAS  /tmp/ccmX5Z0F.s 			page 57


 1633              		.cfi_offset 5, -20
 1634              		.cfi_offset 6, -16
 1635              		.cfi_offset 7, -12
 1636              		.cfi_offset 8, -8
 1637              		.cfi_offset 14, -4
 1638              	.LBE147:
 1639              	.LBE146:
 1640              	.LBB148:
 1641              	.LBB149:
 1642              		.syntax unified
 1643              	@ 195 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h" 1
 1644 002c 4FF05003 			mov r3, #80												
 1645 0030 83F31188 		msr basepri, r3											
 1646 0034 BFF36F8F 		isb														
 1647 0038 BFF34F8F 		dsb														
 1648              	
 1649              	@ 0 "" 2
 1650              	.LVL186:
 1651              		.thumb
 1652              		.syntax unified
 1653              	.L140:
 1654 003c FEE7     		b	.L140
 1655              	.LVL187:
 1656              	.L144:
 1657              	.LBE149:
 1658              	.LBE148:
 617:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 1659              		.loc 1 617 0
 1660 003e 9046     		mov	r8, r2
 1661              	.LVL188:
 1662              	.L141:
 1663 0040 1F46     		mov	r7, r3
 1664 0042 1546     		mov	r5, r2
 1665 0044 0446     		mov	r4, r0
 635:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	xReturn = prvWriteMessageToBuffer( pxStreamBuffer, pvTxData, xDataLengthBytes, xSpace, xRequiredSp
 1666              		.loc 1 635 0
 1667 0046 FFF7FEFF 		bl	xStreamBufferSpacesAvailable
 1668              	.LVL189:
 636:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 1669              		.loc 1 636 0
 1670 004a CDF80080 		str	r8, [sp]
 1671 004e 0346     		mov	r3, r0
 1672 0050 2A46     		mov	r2, r5
 1673 0052 3146     		mov	r1, r6
 1674 0054 2046     		mov	r0, r4
 1675              	.LVL190:
 1676 0056 FFF7FEFF 		bl	prvWriteMessageToBuffer
 1677              	.LVL191:
 638:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 1678              		.loc 1 638 0
 1679 005a 0546     		mov	r5, r0
 1680              	.LVL192:
 1681 005c 18B9     		cbnz	r0, .L149
 1682              	.LVL193:
 1683              	.L136:
 658:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /*-----------------------------------------------------------*/
 1684              		.loc 1 658 0
ARM GAS  /tmp/ccmX5Z0F.s 			page 58


 1685 005e 2846     		mov	r0, r5
 1686 0060 02B0     		add	sp, sp, #8
 1687              	.LCFI32:
 1688              		.cfi_remember_state
 1689              		.cfi_def_cfa_offset 24
 1690              		@ sp needed
 1691 0062 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1692              	.LVL194:
 1693              	.L149:
 1694              	.LCFI33:
 1695              		.cfi_restore_state
 641:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
 1696              		.loc 1 641 0
 1697 0066 2046     		mov	r0, r4
 1698              	.LVL195:
 1699 0068 FFF7FEFF 		bl	prvBytesInBuffer
 1700              	.LVL196:
 1701 006c E368     		ldr	r3, [r4, #12]
 1702 006e 9842     		cmp	r0, r3
 1703 0070 F5D3     		bcc	.L136
 1704              	.LBB150:
 1705              	.LBB151:
 1706              	.LBB152:
 196:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	(
 197:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		"	mov %0, %1												\n"	\
 198:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		"	msr basepri, %0											\n" \
 199:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		"	isb														\n" \
 200:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		"	dsb														\n" \
 201:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		:"=r" (ulNewBASEPRI) : "i" ( configMAX_SYSCALL_INTERRUPT_PRIORITY ) : "memory"
 202:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	);
 203:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** }
 204:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 205:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /*-----------------------------------------------------------*/
 206:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 207:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** portFORCE_INLINE static uint32_t ulPortRaiseBASEPRI( void )
 208:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** {
 209:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** uint32_t ulOriginalBASEPRI, ulNewBASEPRI;
 210:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 211:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	__asm volatile
 1707              		.loc 2 211 0
 1708              		.syntax unified
 1709              	@ 211 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h" 1
 1710 0072 EFF31186 			mrs r6, basepri											
 1711 0076 4FF05003 		mov r3, #80												
 1712 007a 83F31188 		msr basepri, r3											
 1713 007e BFF36F8F 		isb														
 1714 0082 BFF34F8F 		dsb														
 1715              	
 1716              	@ 0 "" 2
 1717              	.LVL197:
 1718              		.thumb
 1719              		.syntax unified
 1720              	.LBE152:
 1721              	.LBE151:
 643:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
 1722              		.loc 1 643 0
 1723 0086 2369     		ldr	r3, [r4, #16]
ARM GAS  /tmp/ccmX5Z0F.s 			page 59


 1724 0088 43B1     		cbz	r3, .L143
 643:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
 1725              		.loc 1 643 0 is_stmt 0 discriminator 1
 1726 008a 2069     		ldr	r0, [r4, #16]
 1727 008c 0097     		str	r7, [sp]
 1728 008e 0023     		movs	r3, #0
 1729 0090 1A46     		mov	r2, r3
 1730 0092 1946     		mov	r1, r3
 1731 0094 FFF7FEFF 		bl	xTaskGenericNotifyFromISR
 1732              	.LVL198:
 1733 0098 0023     		movs	r3, #0
 1734 009a 2361     		str	r3, [r4, #16]
 1735              	.L143:
 1736              	.LVL199:
 1737              	.LBB153:
 1738              	.LBB154:
 212:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	(
 213:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		"	mrs %0, basepri											\n" \
 214:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		"	mov %1, %2												\n"	\
 215:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		"	msr basepri, %1											\n" \
 216:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		"	isb														\n" \
 217:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		"	dsb														\n" \
 218:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		:"=r" (ulOriginalBASEPRI), "=r" (ulNewBASEPRI) : "i" ( configMAX_SYSCALL_INTERRUPT_PRIORITY ) : "
 219:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	);
 220:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 221:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	/* This return will not be reached but is necessary to prevent compiler
 222:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	warnings. */
 223:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	return ulOriginalBASEPRI;
 224:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** }
 225:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /*-----------------------------------------------------------*/
 226:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 227:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** portFORCE_INLINE static void vPortSetBASEPRI( uint32_t ulNewMaskValue )
 228:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** {
 229:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	__asm volatile
 1739              		.loc 2 229 0 is_stmt 1 discriminator 3
 1740              		.syntax unified
 1741              	@ 229 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h" 1
 1742 009c 86F31188 			msr basepri, r6	
 1743              	@ 0 "" 2
 1744              		.thumb
 1745              		.syntax unified
 1746              	.LBE154:
 1747              	.LBE153:
 1748              	.LBE150:
 657:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** }
 1749              		.loc 1 657 0 discriminator 3
 1750 00a0 DDE7     		b	.L136
 1751              		.cfi_endproc
 1752              	.LFE13:
 1754              		.section	.text.xStreamBufferReceive,"ax",%progbits
 1755              		.align	1
 1756              		.global	xStreamBufferReceive
 1757              		.syntax unified
 1758              		.thumb
 1759              		.thumb_func
 1760              		.fpu fpv4-sp-d16
 1762              	xStreamBufferReceive:
ARM GAS  /tmp/ccmX5Z0F.s 			page 60


 1763              	.LFB15:
 717:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** StreamBuffer_t * const pxStreamBuffer = xStreamBuffer;
 1764              		.loc 1 717 0
 1765              		.cfi_startproc
 1766              		@ args = 0, pretend = 0, frame = 0
 1767              		@ frame_needed = 0, uses_anonymous_args = 0
 1768              	.LVL200:
 721:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	configASSERT( pxStreamBuffer );
 1769              		.loc 1 721 0
 1770 0000 21B3     		cbz	r1, .L167
 717:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** StreamBuffer_t * const pxStreamBuffer = xStreamBuffer;
 1771              		.loc 1 717 0
 1772 0002 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 1773              	.LCFI34:
 1774              		.cfi_def_cfa_offset 28
 1775              		.cfi_offset 4, -28
 1776              		.cfi_offset 5, -24
 1777              		.cfi_offset 6, -20
 1778              		.cfi_offset 7, -16
 1779              		.cfi_offset 8, -12
 1780              		.cfi_offset 9, -8
 1781              		.cfi_offset 14, -4
 1782 0006 83B0     		sub	sp, sp, #12
 1783              	.LCFI35:
 1784              		.cfi_def_cfa_offset 40
 1785 0008 8846     		mov	r8, r1
 722:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 1786              		.loc 1 722 0
 1787 000a 40B3     		cbz	r0, .L168
 729:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 1788              		.loc 1 729 0
 1789 000c 017F     		ldrb	r1, [r0, #28]	@ zero_extendqisi2
 1790              	.LVL201:
 1791 000e 11F0010F 		tst	r1, #1
 1792 0012 2DD0     		beq	.L163
 731:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 1793              		.loc 1 731 0
 1794 0014 0426     		movs	r6, #4
 1795              	.L155:
 1796 0016 1F46     		mov	r7, r3
 1797 0018 9146     		mov	r9, r2
 1798 001a 0446     		mov	r4, r0
 1799              	.LVL202:
 738:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 1800              		.loc 1 738 0
 1801 001c 002B     		cmp	r3, #0
 1802 001e 3DD0     		beq	.L156
 742:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
 1803              		.loc 1 742 0
 1804 0020 FFF7FEFF 		bl	vPortEnterCritical
 1805              	.LVL203:
 744:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 1806              		.loc 1 744 0
 1807 0024 2046     		mov	r0, r4
 1808 0026 FFF7FEFF 		bl	prvBytesInBuffer
 1809              	.LVL204:
 1810 002a 0546     		mov	r5, r0
ARM GAS  /tmp/ccmX5Z0F.s 			page 61


 1811              	.LVL205:
 751:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			{
 1812              		.loc 1 751 0
 1813 002c 8642     		cmp	r6, r0
 1814 002e 24D3     		bcc	.L157
 754:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 1815              		.loc 1 754 0
 1816 0030 0020     		movs	r0, #0
 1817              	.LVL206:
 1818 0032 FFF7FEFF 		bl	xTaskNotifyStateClear
 1819              	.LVL207:
 757:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 				pxStreamBuffer->xTaskWaitingToReceive = xTaskGetCurrentTaskHandle();
 1820              		.loc 1 757 0
 1821 0036 2369     		ldr	r3, [r4, #16]
 1822 0038 E3B1     		cbz	r3, .L158
 1823              	.LBB155:
 1824              	.LBB156:
 195:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	(
 1825              		.loc 2 195 0
 1826              		.syntax unified
 1827              	@ 195 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h" 1
 1828 003a 4FF05003 			mov r3, #80												
 1829 003e 83F31188 		msr basepri, r3											
 1830 0042 BFF36F8F 		isb														
 1831 0046 BFF34F8F 		dsb														
 1832              	
 1833              	@ 0 "" 2
 1834              	.LVL208:
 1835              		.thumb
 1836              		.syntax unified
 1837              	.L159:
 1838 004a FEE7     		b	.L159
 1839              	.LVL209:
 1840              	.L167:
 1841              	.LCFI36:
 1842              		.cfi_def_cfa_offset 0
 1843              		.cfi_restore 4
 1844              		.cfi_restore 5
 1845              		.cfi_restore 6
 1846              		.cfi_restore 7
 1847              		.cfi_restore 8
 1848              		.cfi_restore 9
 1849              		.cfi_restore 14
 1850              	.LBE156:
 1851              	.LBE155:
 1852              	.LBB157:
 1853              	.LBB158:
 1854              		.syntax unified
 1855              	@ 195 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h" 1
 1856 004c 4FF05003 			mov r3, #80												
 1857 0050 83F31188 		msr basepri, r3											
 1858 0054 BFF36F8F 		isb														
 1859 0058 BFF34F8F 		dsb														
 1860              	
 1861              	@ 0 "" 2
 1862              	.LVL210:
 1863              		.thumb
ARM GAS  /tmp/ccmX5Z0F.s 			page 62


 1864              		.syntax unified
 1865              	.L152:
 1866 005c FEE7     		b	.L152
 1867              	.LVL211:
 1868              	.L168:
 1869              	.LCFI37:
 1870              		.cfi_def_cfa_offset 40
 1871              		.cfi_offset 4, -28
 1872              		.cfi_offset 5, -24
 1873              		.cfi_offset 6, -20
 1874              		.cfi_offset 7, -16
 1875              		.cfi_offset 8, -12
 1876              		.cfi_offset 9, -8
 1877              		.cfi_offset 14, -4
 1878              	.LBE158:
 1879              	.LBE157:
 1880              	.LBB159:
 1881              	.LBB160:
 1882              		.syntax unified
 1883              	@ 195 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h" 1
 1884 005e 4FF05003 			mov r3, #80												
 1885 0062 83F31188 		msr basepri, r3											
 1886 0066 BFF36F8F 		isb														
 1887 006a BFF34F8F 		dsb														
 1888              	
 1889              	@ 0 "" 2
 1890              	.LVL212:
 1891              		.thumb
 1892              		.syntax unified
 1893              	.L154:
 1894 006e FEE7     		b	.L154
 1895              	.LVL213:
 1896              	.L163:
 1897              	.LBE160:
 1898              	.LBE159:
 735:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 1899              		.loc 1 735 0
 1900 0070 0026     		movs	r6, #0
 1901 0072 D0E7     		b	.L155
 1902              	.LVL214:
 1903              	.L158:
 758:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			}
 1904              		.loc 1 758 0
 1905 0074 FFF7FEFF 		bl	xTaskGetCurrentTaskHandle
 1906              	.LVL215:
 1907 0078 2061     		str	r0, [r4, #16]
 1908              	.L157:
 765:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 1909              		.loc 1 765 0
 1910 007a FFF7FEFF 		bl	vPortExitCritical
 1911              	.LVL216:
 767:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
 1912              		.loc 1 767 0
 1913 007e AE42     		cmp	r6, r5
 1914 0080 0FD3     		bcc	.L160
 771:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			pxStreamBuffer->xTaskWaitingToReceive = NULL;
 1915              		.loc 1 771 0
ARM GAS  /tmp/ccmX5Z0F.s 			page 63


 1916 0082 3B46     		mov	r3, r7
 1917 0084 0022     		movs	r2, #0
 1918 0086 1146     		mov	r1, r2
 1919 0088 1046     		mov	r0, r2
 1920 008a FFF7FEFF 		bl	xTaskNotifyWait
 1921              	.LVL217:
 772:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 1922              		.loc 1 772 0
 1923 008e 0023     		movs	r3, #0
 1924 0090 2361     		str	r3, [r4, #16]
 775:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
 1925              		.loc 1 775 0
 1926 0092 2046     		mov	r0, r4
 1927 0094 FFF7FEFF 		bl	prvBytesInBuffer
 1928              	.LVL218:
 1929 0098 0546     		mov	r5, r0
 1930              	.LVL219:
 1931 009a 02E0     		b	.L160
 1932              	.LVL220:
 1933              	.L156:
 784:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 1934              		.loc 1 784 0
 1935 009c FFF7FEFF 		bl	prvBytesInBuffer
 1936              	.LVL221:
 1937 00a0 0546     		mov	r5, r0
 1938              	.LVL222:
 1939              	.L160:
 792:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 1940              		.loc 1 792 0
 1941 00a2 B542     		cmp	r5, r6
 1942 00a4 04D8     		bhi	.L169
 719:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 1943              		.loc 1 719 0
 1944 00a6 0025     		movs	r5, #0
 1945              	.LVL223:
 1946              	.L150:
 814:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /*-----------------------------------------------------------*/
 1947              		.loc 1 814 0
 1948 00a8 2846     		mov	r0, r5
 1949 00aa 03B0     		add	sp, sp, #12
 1950              	.LCFI38:
 1951              		.cfi_remember_state
 1952              		.cfi_def_cfa_offset 28
 1953              		@ sp needed
 1954 00ac BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 1955              	.LVL224:
 1956              	.L169:
 1957              	.LCFI39:
 1958              		.cfi_restore_state
 794:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 1959              		.loc 1 794 0
 1960 00b0 0096     		str	r6, [sp]
 1961 00b2 2B46     		mov	r3, r5
 1962 00b4 4A46     		mov	r2, r9
 1963 00b6 4146     		mov	r1, r8
 1964 00b8 2046     		mov	r0, r4
 1965 00ba FFF7FEFF 		bl	prvReadMessageFromBuffer
ARM GAS  /tmp/ccmX5Z0F.s 			page 64


 1966              	.LVL225:
 797:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
 1967              		.loc 1 797 0
 1968 00be 0546     		mov	r5, r0
 1969              	.LVL226:
 1970 00c0 0028     		cmp	r0, #0
 1971 00c2 F1D0     		beq	.L150
 800:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
 1972              		.loc 1 800 0
 1973 00c4 FFF7FEFF 		bl	vTaskSuspendAll
 1974              	.LVL227:
 1975 00c8 6369     		ldr	r3, [r4, #20]
 1976 00ca 3BB1     		cbz	r3, .L162
 800:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
 1977              		.loc 1 800 0 is_stmt 0 discriminator 1
 1978 00cc 6069     		ldr	r0, [r4, #20]
 1979 00ce 0023     		movs	r3, #0
 1980 00d0 1A46     		mov	r2, r3
 1981 00d2 1946     		mov	r1, r3
 1982 00d4 FFF7FEFF 		bl	xTaskGenericNotify
 1983              	.LVL228:
 1984 00d8 0023     		movs	r3, #0
 1985 00da 6361     		str	r3, [r4, #20]
 1986              	.L162:
 800:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
 1987              		.loc 1 800 0 discriminator 3
 1988 00dc FFF7FEFF 		bl	xTaskResumeAll
 1989              	.LVL229:
 1990 00e0 E2E7     		b	.L150
 1991              		.cfi_endproc
 1992              	.LFE15:
 1994              		.section	.text.xStreamBufferNextMessageLengthBytes,"ax",%progbits
 1995              		.align	1
 1996              		.global	xStreamBufferNextMessageLengthBytes
 1997              		.syntax unified
 1998              		.thumb
 1999              		.thumb_func
 2000              		.fpu fpv4-sp-d16
 2002              	xStreamBufferNextMessageLengthBytes:
 2003              	.LFB16:
 818:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** StreamBuffer_t * const pxStreamBuffer = xStreamBuffer;
 2004              		.loc 1 818 0 is_stmt 1
 2005              		.cfi_startproc
 2006              		@ args = 0, pretend = 0, frame = 8
 2007              		@ frame_needed = 0, uses_anonymous_args = 0
 2008              	.LVL230:
 823:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 2009              		.loc 1 823 0
 2010 0000 48B1     		cbz	r0, .L179
 818:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** StreamBuffer_t * const pxStreamBuffer = xStreamBuffer;
 2011              		.loc 1 818 0
 2012 0002 30B5     		push	{r4, r5, lr}
 2013              	.LCFI40:
 2014              		.cfi_def_cfa_offset 12
 2015              		.cfi_offset 4, -12
 2016              		.cfi_offset 5, -8
 2017              		.cfi_offset 14, -4
ARM GAS  /tmp/ccmX5Z0F.s 			page 65


 2018 0004 83B0     		sub	sp, sp, #12
 2019              	.LCFI41:
 2020              		.cfi_def_cfa_offset 24
 2021 0006 0446     		mov	r4, r0
 826:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 2022              		.loc 1 826 0
 2023 0008 037F     		ldrb	r3, [r0, #28]	@ zero_extendqisi2
 2024 000a 13F0010F 		tst	r3, #1
 2025 000e 0BD1     		bne	.L180
 854:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 2026              		.loc 1 854 0
 2027 0010 0020     		movs	r0, #0
 2028              	.LVL231:
 2029              	.L170:
 858:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /*-----------------------------------------------------------*/
 2030              		.loc 1 858 0
 2031 0012 03B0     		add	sp, sp, #12
 2032              	.LCFI42:
 2033              		.cfi_def_cfa_offset 12
 2034              		@ sp needed
 2035 0014 30BD     		pop	{r4, r5, pc}
 2036              	.LVL232:
 2037              	.L179:
 2038              	.LCFI43:
 2039              		.cfi_def_cfa_offset 0
 2040              		.cfi_restore 4
 2041              		.cfi_restore 5
 2042              		.cfi_restore 14
 2043              	.LBB161:
 2044              	.LBB162:
 195:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	(
 2045              		.loc 2 195 0
 2046              		.syntax unified
 2047              	@ 195 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h" 1
 2048 0016 4FF05003 			mov r3, #80												
 2049 001a 83F31188 		msr basepri, r3											
 2050 001e BFF36F8F 		isb														
 2051 0022 BFF34F8F 		dsb														
 2052              	
 2053              	@ 0 "" 2
 2054              	.LVL233:
 2055              		.thumb
 2056              		.syntax unified
 2057              	.L172:
 2058 0026 FEE7     		b	.L172
 2059              	.L180:
 2060              	.LCFI44:
 2061              		.cfi_def_cfa_offset 24
 2062              		.cfi_offset 4, -12
 2063              		.cfi_offset 5, -8
 2064              		.cfi_offset 14, -4
 2065              	.LBE162:
 2066              	.LBE161:
 828:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		if( xBytesAvailable > sbBYTES_TO_STORE_MESSAGE_LENGTH )
 2067              		.loc 1 828 0
 2068 0028 FFF7FEFF 		bl	prvBytesInBuffer
 2069              	.LVL234:
ARM GAS  /tmp/ccmX5Z0F.s 			page 66


 829:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
 2070              		.loc 1 829 0
 2071 002c 0428     		cmp	r0, #4
 2072 002e 0AD8     		bhi	.L181
 848:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			xReturn = 0;
 2073              		.loc 1 848 0
 2074 0030 0028     		cmp	r0, #0
 2075 0032 EED0     		beq	.L170
 2076              	.LBB163:
 2077              	.LBB164:
 195:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	(
 2078              		.loc 2 195 0
 2079              		.syntax unified
 2080              	@ 195 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h" 1
 2081 0034 4FF05003 			mov r3, #80												
 2082 0038 83F31188 		msr basepri, r3											
 2083 003c BFF36F8F 		isb														
 2084 0040 BFF34F8F 		dsb														
 2085              	
 2086              	@ 0 "" 2
 2087              	.LVL235:
 2088              		.thumb
 2089              		.syntax unified
 2090              	.L175:
 2091 0044 FEE7     		b	.L175
 2092              	.L181:
 2093              	.LBE164:
 2094              	.LBE163:
 837:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			( void ) prvReadBytesFromBuffer( pxStreamBuffer, ( uint8_t * ) &xTempReturn, sbBYTES_TO_STORE_ME
 2095              		.loc 1 837 0
 2096 0046 2568     		ldr	r5, [r4]
 2097              	.LVL236:
 838:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			xReturn = ( size_t ) xTempReturn;
 2098              		.loc 1 838 0
 2099 0048 0346     		mov	r3, r0
 2100 004a 0422     		movs	r2, #4
 2101 004c 0DEB0201 		add	r1, sp, r2
 2102 0050 2046     		mov	r0, r4
 2103              	.LVL237:
 2104 0052 FFF7FEFF 		bl	prvReadBytesFromBuffer
 2105              	.LVL238:
 839:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			pxStreamBuffer->xTail = xOriginalTail;
 2106              		.loc 1 839 0
 2107 0056 0198     		ldr	r0, [sp, #4]
 2108              	.LVL239:
 840:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
 2109              		.loc 1 840 0
 2110 0058 2560     		str	r5, [r4]
 2111 005a DAE7     		b	.L170
 2112              		.cfi_endproc
 2113              	.LFE16:
 2115              		.section	.text.xStreamBufferReceiveFromISR,"ax",%progbits
 2116              		.align	1
 2117              		.global	xStreamBufferReceiveFromISR
 2118              		.syntax unified
 2119              		.thumb
 2120              		.thumb_func
ARM GAS  /tmp/ccmX5Z0F.s 			page 67


 2121              		.fpu fpv4-sp-d16
 2123              	xStreamBufferReceiveFromISR:
 2124              	.LFB17:
 865:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** StreamBuffer_t * const pxStreamBuffer = xStreamBuffer;
 2125              		.loc 1 865 0
 2126              		.cfi_startproc
 2127              		@ args = 0, pretend = 0, frame = 0
 2128              		@ frame_needed = 0, uses_anonymous_args = 0
 2129              	.LVL240:
 869:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	configASSERT( pxStreamBuffer );
 2130              		.loc 1 869 0
 2131 0000 B1B1     		cbz	r1, .L194
 865:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** StreamBuffer_t * const pxStreamBuffer = xStreamBuffer;
 2132              		.loc 1 865 0
 2133 0002 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 2134              	.LCFI45:
 2135              		.cfi_def_cfa_offset 24
 2136              		.cfi_offset 4, -24
 2137              		.cfi_offset 5, -20
 2138              		.cfi_offset 6, -16
 2139              		.cfi_offset 7, -12
 2140              		.cfi_offset 8, -8
 2141              		.cfi_offset 14, -4
 2142 0006 82B0     		sub	sp, sp, #8
 2143              	.LCFI46:
 2144              		.cfi_def_cfa_offset 32
 2145 0008 0D46     		mov	r5, r1
 870:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 2146              		.loc 1 870 0
 2147 000a D0B1     		cbz	r0, .L195
 877:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 2148              		.loc 1 877 0
 2149 000c 017F     		ldrb	r1, [r0, #28]	@ zero_extendqisi2
 2150              	.LVL241:
 2151 000e 11F0010F 		tst	r1, #1
 2152 0012 1FD0     		beq	.L190
 879:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 2153              		.loc 1 879 0
 2154 0014 0427     		movs	r7, #4
 2155              	.L187:
 2156 0016 9846     		mov	r8, r3
 2157 0018 1646     		mov	r6, r2
 2158 001a 0446     		mov	r4, r0
 2159              	.LVL242:
 886:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 2160              		.loc 1 886 0
 2161 001c FFF7FEFF 		bl	prvBytesInBuffer
 2162              	.LVL243:
 2163 0020 0346     		mov	r3, r0
 2164              	.LVL244:
 893:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 2165              		.loc 1 893 0
 2166 0022 8742     		cmp	r7, r0
 2167 0024 18D3     		bcc	.L196
 867:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 2168              		.loc 1 867 0
 2169 0026 0025     		movs	r5, #0
ARM GAS  /tmp/ccmX5Z0F.s 			page 68


 2170              	.LVL245:
 2171              	.L182:
 915:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /*-----------------------------------------------------------*/
 2172              		.loc 1 915 0
 2173 0028 2846     		mov	r0, r5
 2174 002a 02B0     		add	sp, sp, #8
 2175              	.LCFI47:
 2176              		.cfi_def_cfa_offset 24
 2177              		@ sp needed
 2178 002c BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2179              	.LVL246:
 2180              	.L194:
 2181              	.LCFI48:
 2182              		.cfi_def_cfa_offset 0
 2183              		.cfi_restore 4
 2184              		.cfi_restore 5
 2185              		.cfi_restore 6
 2186              		.cfi_restore 7
 2187              		.cfi_restore 8
 2188              		.cfi_restore 14
 2189              	.LBB165:
 2190              	.LBB166:
 195:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	(
 2191              		.loc 2 195 0
 2192              		.syntax unified
 2193              	@ 195 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h" 1
 2194 0030 4FF05003 			mov r3, #80												
 2195 0034 83F31188 		msr basepri, r3											
 2196 0038 BFF36F8F 		isb														
 2197 003c BFF34F8F 		dsb														
 2198              	
 2199              	@ 0 "" 2
 2200              	.LVL247:
 2201              		.thumb
 2202              		.syntax unified
 2203              	.L184:
 2204 0040 FEE7     		b	.L184
 2205              	.LVL248:
 2206              	.L195:
 2207              	.LCFI49:
 2208              		.cfi_def_cfa_offset 32
 2209              		.cfi_offset 4, -24
 2210              		.cfi_offset 5, -20
 2211              		.cfi_offset 6, -16
 2212              		.cfi_offset 7, -12
 2213              		.cfi_offset 8, -8
 2214              		.cfi_offset 14, -4
 2215              	.LBE166:
 2216              	.LBE165:
 2217              	.LBB167:
 2218              	.LBB168:
 2219              		.syntax unified
 2220              	@ 195 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h" 1
 2221 0042 4FF05003 			mov r3, #80												
 2222 0046 83F31188 		msr basepri, r3											
 2223 004a BFF36F8F 		isb														
 2224 004e BFF34F8F 		dsb														
ARM GAS  /tmp/ccmX5Z0F.s 			page 69


 2225              	
 2226              	@ 0 "" 2
 2227              	.LVL249:
 2228              		.thumb
 2229              		.syntax unified
 2230              	.L186:
 2231 0052 FEE7     		b	.L186
 2232              	.LVL250:
 2233              	.L190:
 2234              	.LBE168:
 2235              	.LBE167:
 883:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 2236              		.loc 1 883 0
 2237 0054 0027     		movs	r7, #0
 2238 0056 DEE7     		b	.L187
 2239              	.LVL251:
 2240              	.L196:
 895:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 2241              		.loc 1 895 0
 2242 0058 0097     		str	r7, [sp]
 2243 005a 3246     		mov	r2, r6
 2244 005c 2946     		mov	r1, r5
 2245 005e 2046     		mov	r0, r4
 2246              	.LVL252:
 2247 0060 FFF7FEFF 		bl	prvReadMessageFromBuffer
 2248              	.LVL253:
 898:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
 2249              		.loc 1 898 0
 2250 0064 0546     		mov	r5, r0
 2251              	.LVL254:
 2252 0066 0028     		cmp	r0, #0
 2253 0068 DED0     		beq	.L182
 2254              	.LBB169:
 2255              	.LBB170:
 2256              	.LBB171:
 211:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	(
 2257              		.loc 2 211 0
 2258              		.syntax unified
 2259              	@ 211 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h" 1
 2260 006a EFF31186 			mrs r6, basepri											
 2261 006e 4FF05003 		mov r3, #80												
 2262 0072 83F31188 		msr basepri, r3											
 2263 0076 BFF36F8F 		isb														
 2264 007a BFF34F8F 		dsb														
 2265              	
 2266              	@ 0 "" 2
 2267              	.LVL255:
 2268              		.thumb
 2269              		.syntax unified
 2270              	.LBE171:
 2271              	.LBE170:
 900:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
 2272              		.loc 1 900 0
 2273 007e 6369     		ldr	r3, [r4, #20]
 2274 0080 4BB1     		cbz	r3, .L189
 900:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
 2275              		.loc 1 900 0 is_stmt 0 discriminator 1
ARM GAS  /tmp/ccmX5Z0F.s 			page 70


 2276 0082 6069     		ldr	r0, [r4, #20]
 2277              	.LVL256:
 2278 0084 CDF80080 		str	r8, [sp]
 2279 0088 0023     		movs	r3, #0
 2280 008a 1A46     		mov	r2, r3
 2281 008c 1946     		mov	r1, r3
 2282 008e FFF7FEFF 		bl	xTaskGenericNotifyFromISR
 2283              	.LVL257:
 2284 0092 0023     		movs	r3, #0
 2285 0094 6361     		str	r3, [r4, #20]
 2286              	.L189:
 2287              	.LVL258:
 2288              	.LBB172:
 2289              	.LBB173:
 2290              		.loc 2 229 0 is_stmt 1 discriminator 3
 2291              		.syntax unified
 2292              	@ 229 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h" 1
 2293 0096 86F31188 			msr basepri, r6	
 2294              	@ 0 "" 2
 2295              		.thumb
 2296              		.syntax unified
 2297 009a C5E7     		b	.L182
 2298              	.LBE173:
 2299              	.LBE172:
 2300              	.LBE169:
 2301              		.cfi_endproc
 2302              	.LFE17:
 2304              		.section	.text.xStreamBufferIsEmpty,"ax",%progbits
 2305              		.align	1
 2306              		.global	xStreamBufferIsEmpty
 2307              		.syntax unified
 2308              		.thumb
 2309              		.thumb_func
 2310              		.fpu fpv4-sp-d16
 2312              	xStreamBufferIsEmpty:
 2313              	.LFB19:
 971:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** const StreamBuffer_t * const pxStreamBuffer = xStreamBuffer;
 2314              		.loc 1 971 0
 2315              		.cfi_startproc
 2316              		@ args = 0, pretend = 0, frame = 0
 2317              		@ frame_needed = 0, uses_anonymous_args = 0
 2318              		@ link register save eliminated.
 2319              	.LVL259:
 976:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 2320              		.loc 1 976 0
 2321 0000 28B1     		cbz	r0, .L202
 979:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	if( pxStreamBuffer->xHead == xTail )
 2322              		.loc 1 979 0
 2323 0002 0268     		ldr	r2, [r0]
 2324              	.LVL260:
 980:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 2325              		.loc 1 980 0
 2326 0004 4368     		ldr	r3, [r0, #4]
 2327 0006 9A42     		cmp	r2, r3
 2328 0008 0AD0     		beq	.L203
 986:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 2329              		.loc 1 986 0
ARM GAS  /tmp/ccmX5Z0F.s 			page 71


 2330 000a 0020     		movs	r0, #0
 2331              	.LVL261:
 990:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /*-----------------------------------------------------------*/
 2332              		.loc 1 990 0
 2333 000c 7047     		bx	lr
 2334              	.LVL262:
 2335              	.L202:
 2336              	.LBB174:
 2337              	.LBB175:
 195:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	(
 2338              		.loc 2 195 0
 2339              		.syntax unified
 2340              	@ 195 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h" 1
 2341 000e 4FF05003 			mov r3, #80												
 2342 0012 83F31188 		msr basepri, r3											
 2343 0016 BFF36F8F 		isb														
 2344 001a BFF34F8F 		dsb														
 2345              	
 2346              	@ 0 "" 2
 2347              	.LVL263:
 2348              		.thumb
 2349              		.syntax unified
 2350              	.L199:
 2351 001e FEE7     		b	.L199
 2352              	.LVL264:
 2353              	.L203:
 2354              	.LBE175:
 2355              	.LBE174:
 982:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 2356              		.loc 1 982 0
 2357 0020 0120     		movs	r0, #1
 2358              	.LVL265:
 2359 0022 7047     		bx	lr
 2360              		.cfi_endproc
 2361              	.LFE19:
 2363              		.section	.text.xStreamBufferIsFull,"ax",%progbits
 2364              		.align	1
 2365              		.global	xStreamBufferIsFull
 2366              		.syntax unified
 2367              		.thumb
 2368              		.thumb_func
 2369              		.fpu fpv4-sp-d16
 2371              	xStreamBufferIsFull:
 2372              	.LFB20:
 994:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** BaseType_t xReturn;
 2373              		.loc 1 994 0
 2374              		.cfi_startproc
 2375              		@ args = 0, pretend = 0, frame = 0
 2376              		@ frame_needed = 0, uses_anonymous_args = 0
 2377              	.LVL266:
 999:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 2378              		.loc 1 999 0
 2379 0000 68B1     		cbz	r0, .L213
 994:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** BaseType_t xReturn;
 2380              		.loc 1 994 0
 2381 0002 10B5     		push	{r4, lr}
 2382              	.LCFI50:
ARM GAS  /tmp/ccmX5Z0F.s 			page 72


 2383              		.cfi_def_cfa_offset 8
 2384              		.cfi_offset 4, -8
 2385              		.cfi_offset 14, -4
 2386 0004 0346     		mov	r3, r0
1005:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 2387              		.loc 1 1005 0
 2388 0006 027F     		ldrb	r2, [r0, #28]	@ zero_extendqisi2
 2389 0008 12F0010F 		tst	r2, #1
 2390 000c 10D0     		beq	.L209
1007:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 2391              		.loc 1 1007 0
 2392 000e 0424     		movs	r4, #4
 2393              	.L207:
 2394 0010 1846     		mov	r0, r3
 2395              	.LVL267:
1015:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	{
 2396              		.loc 1 1015 0
 2397 0012 FFF7FEFF 		bl	xStreamBufferSpacesAvailable
 2398              	.LVL268:
 2399 0016 8442     		cmp	r4, r0
 2400 0018 0CD2     		bcs	.L214
1021:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 2401              		.loc 1 1021 0
 2402 001a 0020     		movs	r0, #0
 2403              	.LVL269:
1025:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /*-----------------------------------------------------------*/
 2404              		.loc 1 1025 0
 2405 001c 10BD     		pop	{r4, pc}
 2406              	.LVL270:
 2407              	.L213:
 2408              	.LCFI51:
 2409              		.cfi_def_cfa_offset 0
 2410              		.cfi_restore 4
 2411              		.cfi_restore 14
 2412              	.LBB176:
 2413              	.LBB177:
 195:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	(
 2414              		.loc 2 195 0
 2415              		.syntax unified
 2416              	@ 195 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h" 1
 2417 001e 4FF05003 			mov r3, #80												
 2418 0022 83F31188 		msr basepri, r3											
 2419 0026 BFF36F8F 		isb														
 2420 002a BFF34F8F 		dsb														
 2421              	
 2422              	@ 0 "" 2
 2423              	.LVL271:
 2424              		.thumb
 2425              		.syntax unified
 2426              	.L206:
 2427 002e FEE7     		b	.L206
 2428              	.L209:
 2429              	.LCFI52:
 2430              		.cfi_def_cfa_offset 8
 2431              		.cfi_offset 4, -8
 2432              		.cfi_offset 14, -4
 2433              	.LBE177:
ARM GAS  /tmp/ccmX5Z0F.s 			page 73


 2434              	.LBE176:
1011:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 2435              		.loc 1 1011 0
 2436 0030 0024     		movs	r4, #0
 2437 0032 EDE7     		b	.L207
 2438              	.LVL272:
 2439              	.L214:
1017:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 	}
 2440              		.loc 1 1017 0
 2441 0034 0120     		movs	r0, #1
 2442 0036 10BD     		pop	{r4, pc}
 2443              		.cfi_endproc
 2444              	.LFE20:
 2446              		.section	.text.xStreamBufferSendCompletedFromISR,"ax",%progbits
 2447              		.align	1
 2448              		.global	xStreamBufferSendCompletedFromISR
 2449              		.syntax unified
 2450              		.thumb
 2451              		.thumb_func
 2452              		.fpu fpv4-sp-d16
 2454              	xStreamBufferSendCompletedFromISR:
 2455              	.LFB21:
1029:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** StreamBuffer_t * const pxStreamBuffer = xStreamBuffer;
 2456              		.loc 1 1029 0
 2457              		.cfi_startproc
 2458              		@ args = 0, pretend = 0, frame = 0
 2459              		@ frame_needed = 0, uses_anonymous_args = 0
 2460              	.LVL273:
1034:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 2461              		.loc 1 1034 0
 2462 0000 E0B1     		cbz	r0, .L222
1029:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** StreamBuffer_t * const pxStreamBuffer = xStreamBuffer;
 2463              		.loc 1 1029 0
 2464 0002 30B5     		push	{r4, r5, lr}
 2465              	.LCFI53:
 2466              		.cfi_def_cfa_offset 12
 2467              		.cfi_offset 4, -12
 2468              		.cfi_offset 5, -8
 2469              		.cfi_offset 14, -4
 2470 0004 83B0     		sub	sp, sp, #12
 2471              	.LCFI54:
 2472              		.cfi_def_cfa_offset 24
 2473 0006 0446     		mov	r4, r0
 2474              	.LBB178:
 2475              	.LBB179:
 211:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	(
 2476              		.loc 2 211 0
 2477              		.syntax unified
 2478              	@ 211 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h" 1
 2479 0008 EFF31185 			mrs r5, basepri											
 2480 000c 4FF05003 		mov r3, #80												
 2481 0010 83F31188 		msr basepri, r3											
 2482 0014 BFF36F8F 		isb														
 2483 0018 BFF34F8F 		dsb														
 2484              	
 2485              	@ 0 "" 2
 2486              		.thumb
ARM GAS  /tmp/ccmX5Z0F.s 			page 74


 2487              		.syntax unified
 2488              	.LBE179:
 2489              	.LBE178:
1038:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
 2490              		.loc 1 1038 0
 2491 001c 0369     		ldr	r3, [r0, #16]
 2492 001e B3B1     		cbz	r3, .L219
1040:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 										 ( uint32_t ) 0,
 2493              		.loc 1 1040 0
 2494 0020 0069     		ldr	r0, [r0, #16]
 2495              	.LVL274:
 2496 0022 0091     		str	r1, [sp]
 2497 0024 0023     		movs	r3, #0
 2498 0026 1A46     		mov	r2, r3
 2499 0028 1946     		mov	r1, r3
 2500              	.LVL275:
 2501 002a FFF7FEFF 		bl	xTaskGenericNotifyFromISR
 2502              	.LVL276:
1044:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			xReturn = pdTRUE;
 2503              		.loc 1 1044 0
 2504 002e 0023     		movs	r3, #0
 2505 0030 2361     		str	r3, [r4, #16]
 2506              	.LVL277:
1045:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
 2507              		.loc 1 1045 0
 2508 0032 0120     		movs	r0, #1
 2509              	.LVL278:
 2510              	.L218:
 2511              	.LBB180:
 2512              	.LBB181:
 2513              		.loc 2 229 0
 2514              		.syntax unified
 2515              	@ 229 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h" 1
 2516 0034 85F31188 			msr basepri, r5	
 2517              	@ 0 "" 2
 2518              	.LVL279:
 2519              		.thumb
 2520              		.syntax unified
 2521              	.LBE181:
 2522              	.LBE180:
1055:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /*-----------------------------------------------------------*/
 2523              		.loc 1 1055 0
 2524 0038 03B0     		add	sp, sp, #12
 2525              	.LCFI55:
 2526              		.cfi_def_cfa_offset 12
 2527              		@ sp needed
 2528 003a 30BD     		pop	{r4, r5, pc}
 2529              	.LVL280:
 2530              	.L222:
 2531              	.LCFI56:
 2532              		.cfi_def_cfa_offset 0
 2533              		.cfi_restore 4
 2534              		.cfi_restore 5
 2535              		.cfi_restore 14
 2536              	.LBB182:
 2537              	.LBB183:
 195:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	(
ARM GAS  /tmp/ccmX5Z0F.s 			page 75


 2538              		.loc 2 195 0
 2539              		.syntax unified
 2540              	@ 195 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h" 1
 2541 003c 4FF05003 			mov r3, #80												
 2542 0040 83F31188 		msr basepri, r3											
 2543 0044 BFF36F8F 		isb														
 2544 0048 BFF34F8F 		dsb														
 2545              	
 2546              	@ 0 "" 2
 2547              	.LVL281:
 2548              		.thumb
 2549              		.syntax unified
 2550              	.L217:
 2551 004c FEE7     		b	.L217
 2552              	.L219:
 2553              	.LCFI57:
 2554              		.cfi_def_cfa_offset 24
 2555              		.cfi_offset 4, -12
 2556              		.cfi_offset 5, -8
 2557              		.cfi_offset 14, -4
 2558              	.LBE183:
 2559              	.LBE182:
1049:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
 2560              		.loc 1 1049 0
 2561 004e 0020     		movs	r0, #0
 2562              	.LVL282:
 2563 0050 F0E7     		b	.L218
 2564              		.cfi_endproc
 2565              	.LFE21:
 2567              		.section	.text.xStreamBufferReceiveCompletedFromISR,"ax",%progbits
 2568              		.align	1
 2569              		.global	xStreamBufferReceiveCompletedFromISR
 2570              		.syntax unified
 2571              		.thumb
 2572              		.thumb_func
 2573              		.fpu fpv4-sp-d16
 2575              	xStreamBufferReceiveCompletedFromISR:
 2576              	.LFB22:
1059:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** StreamBuffer_t * const pxStreamBuffer = xStreamBuffer;
 2577              		.loc 1 1059 0
 2578              		.cfi_startproc
 2579              		@ args = 0, pretend = 0, frame = 0
 2580              		@ frame_needed = 0, uses_anonymous_args = 0
 2581              	.LVL283:
1064:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 
 2582              		.loc 1 1064 0
 2583 0000 E0B1     		cbz	r0, .L230
1059:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** StreamBuffer_t * const pxStreamBuffer = xStreamBuffer;
 2584              		.loc 1 1059 0
 2585 0002 30B5     		push	{r4, r5, lr}
 2586              	.LCFI58:
 2587              		.cfi_def_cfa_offset 12
 2588              		.cfi_offset 4, -12
 2589              		.cfi_offset 5, -8
 2590              		.cfi_offset 14, -4
 2591 0004 83B0     		sub	sp, sp, #12
 2592              	.LCFI59:
ARM GAS  /tmp/ccmX5Z0F.s 			page 76


 2593              		.cfi_def_cfa_offset 24
 2594 0006 0446     		mov	r4, r0
 2595              	.LBB184:
 2596              	.LBB185:
 211:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	(
 2597              		.loc 2 211 0
 2598              		.syntax unified
 2599              	@ 211 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h" 1
 2600 0008 EFF31185 			mrs r5, basepri											
 2601 000c 4FF05003 		mov r3, #80												
 2602 0010 83F31188 		msr basepri, r3											
 2603 0014 BFF36F8F 		isb														
 2604 0018 BFF34F8F 		dsb														
 2605              	
 2606              	@ 0 "" 2
 2607              		.thumb
 2608              		.syntax unified
 2609              	.LBE185:
 2610              	.LBE184:
1068:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		{
 2611              		.loc 1 1068 0
 2612 001c 4369     		ldr	r3, [r0, #20]
 2613 001e B3B1     		cbz	r3, .L227
1070:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 										 ( uint32_t ) 0,
 2614              		.loc 1 1070 0
 2615 0020 4069     		ldr	r0, [r0, #20]
 2616              	.LVL284:
 2617 0022 0091     		str	r1, [sp]
 2618 0024 0023     		movs	r3, #0
 2619 0026 1A46     		mov	r2, r3
 2620 0028 1946     		mov	r1, r3
 2621              	.LVL285:
 2622 002a FFF7FEFF 		bl	xTaskGenericNotifyFromISR
 2623              	.LVL286:
1074:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 			xReturn = pdTRUE;
 2624              		.loc 1 1074 0
 2625 002e 0023     		movs	r3, #0
 2626 0030 6361     		str	r3, [r4, #20]
 2627              	.LVL287:
1075:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
 2628              		.loc 1 1075 0
 2629 0032 0120     		movs	r0, #1
 2630              	.LVL288:
 2631              	.L226:
 2632              	.LBB186:
 2633              	.LBB187:
 2634              		.loc 2 229 0
 2635              		.syntax unified
 2636              	@ 229 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h" 1
 2637 0034 85F31188 			msr basepri, r5	
 2638              	@ 0 "" 2
 2639              	.LVL289:
 2640              		.thumb
 2641              		.syntax unified
 2642              	.LBE187:
 2643              	.LBE186:
1085:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** /*-----------------------------------------------------------*/
ARM GAS  /tmp/ccmX5Z0F.s 			page 77


 2644              		.loc 1 1085 0
 2645 0038 03B0     		add	sp, sp, #12
 2646              	.LCFI60:
 2647              		.cfi_def_cfa_offset 12
 2648              		@ sp needed
 2649 003a 30BD     		pop	{r4, r5, pc}
 2650              	.LVL290:
 2651              	.L230:
 2652              	.LCFI61:
 2653              		.cfi_def_cfa_offset 0
 2654              		.cfi_restore 4
 2655              		.cfi_restore 5
 2656              		.cfi_restore 14
 2657              	.LBB188:
 2658              	.LBB189:
 195:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	(
 2659              		.loc 2 195 0
 2660              		.syntax unified
 2661              	@ 195 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h" 1
 2662 003c 4FF05003 			mov r3, #80												
 2663 0040 83F31188 		msr basepri, r3											
 2664 0044 BFF36F8F 		isb														
 2665 0048 BFF34F8F 		dsb														
 2666              	
 2667              	@ 0 "" 2
 2668              	.LVL291:
 2669              		.thumb
 2670              		.syntax unified
 2671              	.L225:
 2672 004c FEE7     		b	.L225
 2673              	.L227:
 2674              	.LCFI62:
 2675              		.cfi_def_cfa_offset 24
 2676              		.cfi_offset 4, -12
 2677              		.cfi_offset 5, -8
 2678              		.cfi_offset 14, -4
 2679              	.LBE189:
 2680              	.LBE188:
1079:Middlewares/Third_Party/FreeRTOS/Source/stream_buffer.c **** 		}
 2681              		.loc 1 1079 0
 2682 004e 0020     		movs	r0, #0
 2683              	.LVL292:
 2684 0050 F0E7     		b	.L226
 2685              		.cfi_endproc
 2686              	.LFE22:
 2688              		.text
 2689              	.Letext0:
 2690              		.file 3 "/usr/include/newlib/machine/_default_types.h"
 2691              		.file 4 "/usr/include/newlib/sys/_stdint.h"
 2692              		.file 5 "/usr/lib/gcc/arm-none-eabi/6.3.1/include/stddef.h"
 2693              		.file 6 "/usr/include/newlib/sys/lock.h"
 2694              		.file 7 "/usr/include/newlib/sys/_types.h"
 2695              		.file 8 "/usr/include/newlib/sys/reent.h"
 2696              		.file 9 "Core/Inc/FreeRTOSConfig.h"
 2697              		.file 10 "Middlewares/Third_Party/FreeRTOS/Source/include/FreeRTOS.h"
 2698              		.file 11 "Middlewares/Third_Party/FreeRTOS/Source/include/task.h"
 2699              		.file 12 "Middlewares/Third_Party/FreeRTOS/Source/include/stream_buffer.h"
ARM GAS  /tmp/ccmX5Z0F.s 			page 78


 2700              		.file 13 "/usr/include/newlib/string.h"
 2701              		.file 14 "Middlewares/Third_Party/FreeRTOS/Source/include/portable.h"
ARM GAS  /tmp/ccmX5Z0F.s 			page 79


DEFINED SYMBOLS
                            *ABS*:0000000000000000 stream_buffer.c
     /tmp/ccmX5Z0F.s:18     .text.prvBytesInBuffer:0000000000000000 $t
     /tmp/ccmX5Z0F.s:24     .text.prvBytesInBuffer:0000000000000000 prvBytesInBuffer
     /tmp/ccmX5Z0F.s:56     .text.prvInitialiseNewStreamBuffer:0000000000000000 $t
     /tmp/ccmX5Z0F.s:62     .text.prvInitialiseNewStreamBuffer:0000000000000000 prvInitialiseNewStreamBuffer
     /tmp/ccmX5Z0F.s:134    .text.prvWriteBytesToBuffer:0000000000000000 $t
     /tmp/ccmX5Z0F.s:140    .text.prvWriteBytesToBuffer:0000000000000000 prvWriteBytesToBuffer
     /tmp/ccmX5Z0F.s:275    .text.prvWriteMessageToBuffer:0000000000000000 $t
     /tmp/ccmX5Z0F.s:281    .text.prvWriteMessageToBuffer:0000000000000000 prvWriteMessageToBuffer
     /tmp/ccmX5Z0F.s:377    .text.prvReadBytesFromBuffer:0000000000000000 $t
     /tmp/ccmX5Z0F.s:383    .text.prvReadBytesFromBuffer:0000000000000000 prvReadBytesFromBuffer
     /tmp/ccmX5Z0F.s:533    .text.prvReadMessageFromBuffer:0000000000000000 $t
     /tmp/ccmX5Z0F.s:539    .text.prvReadMessageFromBuffer:0000000000000000 prvReadMessageFromBuffer
     /tmp/ccmX5Z0F.s:622    .text.xStreamBufferGenericCreate:0000000000000000 $t
     /tmp/ccmX5Z0F.s:629    .text.xStreamBufferGenericCreate:0000000000000000 xStreamBufferGenericCreate
     /tmp/ccmX5Z0F.s:763    .text.xStreamBufferGenericCreateStatic:0000000000000000 $t
     /tmp/ccmX5Z0F.s:770    .text.xStreamBufferGenericCreateStatic:0000000000000000 xStreamBufferGenericCreateStatic
     /tmp/ccmX5Z0F.s:952    .text.vStreamBufferDelete:0000000000000000 $t
     /tmp/ccmX5Z0F.s:959    .text.vStreamBufferDelete:0000000000000000 vStreamBufferDelete
     /tmp/ccmX5Z0F.s:1013   .text.xStreamBufferReset:0000000000000000 $t
     /tmp/ccmX5Z0F.s:1020   .text.xStreamBufferReset:0000000000000000 xStreamBufferReset
     /tmp/ccmX5Z0F.s:1115   .text.xStreamBufferSetTriggerLevel:0000000000000000 $t
     /tmp/ccmX5Z0F.s:1122   .text.xStreamBufferSetTriggerLevel:0000000000000000 xStreamBufferSetTriggerLevel
     /tmp/ccmX5Z0F.s:1180   .text.xStreamBufferSpacesAvailable:0000000000000000 $t
     /tmp/ccmX5Z0F.s:1187   .text.xStreamBufferSpacesAvailable:0000000000000000 xStreamBufferSpacesAvailable
     /tmp/ccmX5Z0F.s:1245   .text.xStreamBufferBytesAvailable:0000000000000000 $t
     /tmp/ccmX5Z0F.s:1252   .text.xStreamBufferBytesAvailable:0000000000000000 xStreamBufferBytesAvailable
     /tmp/ccmX5Z0F.s:1295   .text.xStreamBufferSend:0000000000000000 $t
     /tmp/ccmX5Z0F.s:1302   .text.xStreamBufferSend:0000000000000000 xStreamBufferSend
     /tmp/ccmX5Z0F.s:1561   .text.xStreamBufferSendFromISR:0000000000000000 $t
     /tmp/ccmX5Z0F.s:1568   .text.xStreamBufferSendFromISR:0000000000000000 xStreamBufferSendFromISR
     /tmp/ccmX5Z0F.s:1755   .text.xStreamBufferReceive:0000000000000000 $t
     /tmp/ccmX5Z0F.s:1762   .text.xStreamBufferReceive:0000000000000000 xStreamBufferReceive
     /tmp/ccmX5Z0F.s:1995   .text.xStreamBufferNextMessageLengthBytes:0000000000000000 $t
     /tmp/ccmX5Z0F.s:2002   .text.xStreamBufferNextMessageLengthBytes:0000000000000000 xStreamBufferNextMessageLengthBytes
     /tmp/ccmX5Z0F.s:2116   .text.xStreamBufferReceiveFromISR:0000000000000000 $t
     /tmp/ccmX5Z0F.s:2123   .text.xStreamBufferReceiveFromISR:0000000000000000 xStreamBufferReceiveFromISR
     /tmp/ccmX5Z0F.s:2305   .text.xStreamBufferIsEmpty:0000000000000000 $t
     /tmp/ccmX5Z0F.s:2312   .text.xStreamBufferIsEmpty:0000000000000000 xStreamBufferIsEmpty
     /tmp/ccmX5Z0F.s:2364   .text.xStreamBufferIsFull:0000000000000000 $t
     /tmp/ccmX5Z0F.s:2371   .text.xStreamBufferIsFull:0000000000000000 xStreamBufferIsFull
     /tmp/ccmX5Z0F.s:2447   .text.xStreamBufferSendCompletedFromISR:0000000000000000 $t
     /tmp/ccmX5Z0F.s:2454   .text.xStreamBufferSendCompletedFromISR:0000000000000000 xStreamBufferSendCompletedFromISR
     /tmp/ccmX5Z0F.s:2568   .text.xStreamBufferReceiveCompletedFromISR:0000000000000000 $t
     /tmp/ccmX5Z0F.s:2575   .text.xStreamBufferReceiveCompletedFromISR:0000000000000000 xStreamBufferReceiveCompletedFromISR
                     .debug_frame:0000000000000010 $d

UNDEFINED SYMBOLS
memset
memcpy
pvPortMalloc
vPortFree
vPortEnterCritical
vPortExitCritical
vTaskSetTimeOutState
xTaskNotifyStateClear
ARM GAS  /tmp/ccmX5Z0F.s 			page 80


xTaskGetCurrentTaskHandle
xTaskNotifyWait
xTaskCheckForTimeOut
vTaskSuspendAll
xTaskGenericNotify
xTaskResumeAll
xTaskGenericNotifyFromISR
